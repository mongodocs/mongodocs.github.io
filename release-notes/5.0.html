<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css' /><title>Release Notes for MongoDB 5.0 &mdash; MongoDB Manual</title><link rel="shortcut icon" href="https://www.mongodb.com/docs/assets/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index" />
      <link rel="canonical" href="https://www.mongodb.com/docs/manual/release-notes/5.0/" />

  <meta name="release" content="5.0.0"/>
  <meta name="version" content="5.0"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/release-notes/5.0.txt"/>
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/css/navbar.min.css?t=nocache" type="text/css" />
    
    <script type="text/javascript" src="../_static/lib/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/lib/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/controller.js"></script>
      <link rel="search" type="application/opensearchdescription+xml" href="https://www.mongodb.com/docs/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<!-- <link rel="index" title="Index" href="../genindex.html" /> -->
<link rel="search" title="Search" href="../search.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Release Notes" href="../release-notes.html" />
<link rel="next" title="Compatibility Changes in MongoDB 5.0" href="5.0-compatibility.html" />
<link rel="prev" title="5.1 Changelog" href="5.1-changelog.html" /><script type='text/javascript'>
   var gptadslots=[];
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function(){ var gads = document.createElement('script');
      gads.async = true; gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
   })();
</script>

<script type="text/javascript">
   googletag.cmd.push(function() {

      var pathname = location.href;
      
      if ( (pathname.indexOf("auth") >= 0) || (pathname.indexOf("security") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/security', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if ( (pathname.indexOf("crud") >= 0) ||  (pathname.indexOf("query") >= 0) || (pathname.indexOf("insert") >= 0) || (pathname.indexOf("update") >= 0) || (pathname.indexOf("remove") >= 0) || (pathname.indexOf("delete") >= 0) || (pathname.indexOf("aggregation") >= 0) ) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/crud', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("shard") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/sharding', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("replica") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/replication', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("model") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/data-modeling', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("administration") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/support', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("install-mongodb-on-windows") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/install-mongodb-on-windows', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else if (pathname.indexOf("tutorial/getting-started") >= 0) {
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org/docs_server_gettingstarted', [160, 600], 'mongodb-docs-1').addService(googletag.pubads());
      } else {
         //Adslot 1 declaration
         gptadslots[1]= googletag.defineSlot('/40039723/docs.mongodb.org', [[160,600],[243,202],[293,244]],'mongodb-docs-1').addService(googletag.pubads());
      }
      googletag.pubads().enableSingleRequest();
      googletag.pubads().enableAsyncRendering();
      googletag.enableServices();
   });
</script></head>
<body data-project="manual" data-project-title="MongoDB Manual" data-branch="master" data-enable-marian=1 data-eol="">
  <!-- Google Tag Manager -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
  {'gtm.start':new Date().getTime(),event:'gtm.js'}
  );var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-GDFN');
  </script>
  <!-- End Google Tag Manager -->
      <script>
        window.googleSearchCx = "017213726194841070573:WMX6838984"
	window.googleSearchPlaceholder = "Search Documentation"
        window.googleSearchResultsUrl = "https://www.mongodb.com/docs/manual/search/"
      </script><div class="content" >

   <div id="left-column">
         <aside id="sidebar" class="sidebar">
             
  <div class="sphinxsidebar" id="sphinxsidebar">
    <div id="sphinxsidebarwrapper" class="sphinxsidebarwrapper"><a href="javascript:void(0)" class="closeNav" id="closeNav">Close &times;</a>


<h3>
  <a class="index-link" href="../index.html">MongoDB Manual</a>
</h3>


    <div class="btn-group version-sidebar">
      
        <button type="button" class="version-button dropdown-toggle" data-toggle="dropdown">
          
          
          Version 6.0 (upcoming)<span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          
            
            <li class="active">
            
              <a href="#" data-path="docs/master">
                
                Version 6.0 (upcoming)
              </a>
            </li>
          
            
            <li>
            
              <a class="version-selector" href="#" data-path="docs/v5.3">
                
                Atlas Rapid Release (v5.3)
              </a>
            </li>
          
            
            <li>
            
              <a class="version-selector" href="#" data-path="docs/manual">
                
                Version 5.0 (current)
              </a>
            </li>
          
            
            <li>
            
              <a class="version-selector" href="#" data-path="docs/v4.4">
                
                Version 4.4
              </a>
            </li>
          
            
            <li>
            
              <a class="version-selector" href="#" data-path="docs/v4.2">
                
                Version 4.2
              </a>
            </li>
          
        </ul>
      
    </div>


<ul class="current"><li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/getting-started.html">Getting Started</a></li><li class="toctree-l2"><a class="reference external" href="https://docs.atlas.mongodb.com/getting-started/">Create an Atlas Free Tier Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/databases-and-collections.html">Databases and Collections</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/views.html">Views</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/views/create-view.html">Create and Query a View</a></li><li class="toctree-l4"><a class="reference internal" href="../core/views/join-collections-with-view.html">Use a View to Join Two Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/views/specify-collation.html">Create a View with Default Collation</a></li><li class="toctree-l4"><a class="reference internal" href="../core/views/update-view.html">Modify a View</a></li><li class="toctree-l4"><a class="reference internal" href="../core/views/drop-view.html">Remove a View</a></li><li class="toctree-l4"><a class="reference internal" href="../core/views/supported-operations.html">Supported Operations for Views</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/materialized-views.html">On-Demand Materialized Views</a></li><li class="toctree-l3"><a class="reference internal" href="../core/capped-collections.html">Capped Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/clustered-collections.html">Clustered Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/timeseries-collections.html">Time Series Collections</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-procedures.html">Create and Query a Time Series Collection</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-automatic-removal.html">Set up Automatic Removal for Time Series Collections (TTL)</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-granularity.html">Set Granularity for Time Series Data</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-secondary-index.html">Add Secondary Indexes to Time Series Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-migrate-data-into-timeseries-collection.html">Migrate Data into a Time Series Collection</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-build-materialized-views.html">Build Materialized Views on Top of Time Series Data</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-shard-collection.html">Shard a Time Series Collection</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-best-practices.html">Best Practices for Time Series Collections</a></li><li class="toctree-l4"><a class="reference internal" href="../core/timeseries/timeseries-reference.html">Reference</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/timeseries/timeseries-compression.html">Time Series Compression</a></li><li class="toctree-l5"><a class="reference internal" href="../core/timeseries/timeseries-limitations.html">Limitations</a></li></ul></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/document.html">Documents</a></li><li class="toctree-l2"><a class="reference internal" href="../query-api.html">MongoDB Query API</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/bson-types.html">BSON Types</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/bson-type-comparison-order.html">Comparison/Sort Order</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodb-extended-json.html">MongoDB Extended JSON (v2)</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongodb-extended-json-v1.html">MongoDB Extended JSON (v1)</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/install-community.html">Install MongoDB Community Edition</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-on-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/installation-ubuntu-community-troubleshooting.html">Troubleshoot Ubuntu Installation</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x.html">Install on macOS</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-os-x-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/install-enterprise.html">Install MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/install-enterprise-linux.html">Install on Linux</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat.html">Install on Red Hat</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-red-hat-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu.html">Install on Ubuntu</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-ubuntu-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian.html">Install on Debian</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-debian-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse.html">Install on SUSE</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-suse-tarball.html">Install using .tgz Tarball</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon.html">Install on Amazon</a><ul><li class="toctree-l5"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-amazon-tarball.html">Install using .tgz Tarball</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-os-x.html">Install on macOS</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows.html">Install on Windows</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-on-windows-unattended.html">Install using msiexec.exe</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/install-mongodb-enterprise-with-docker.html">Install with Docker</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/upgrade-community-to-enterprise.html">Upgrade MongoDB Community to MongoDB Enterprise</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-standalone.html">Upgrade to MongoDB Enterprise (Standalone)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-replica-set.html">Upgrade to MongoDB Enterprise (Replica Set)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-to-enterprise-sharded-cluster.html">Upgrade to MongoDB Enterprise (Sharded Cluster)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/verify-mongodb-packages.html">Verify Integrity of MongoDB Packages</a></li></ul></li><li class="toctree-l1"><a class="reference external" href="https://www.mongodb.com/docs/mongodb-shell/">MongoDB Shell (mongosh)</a></li><li class="toctree-l1"><a class="reference internal" href="../crud.html">MongoDB CRUD Operations</a><ul><li class="toctree-l2"><a class="reference internal" href="../tutorial/insert-documents.html">Insert Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/insert-methods.html">Insert Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/query-documents.html">Query Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-embedded-documents.html">Query on Embedded/Nested Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-arrays.html">Query an Array</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-array-of-documents.html">Query an Array of Embedded Documents</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/project-fields-from-query-results.html">Project Fields to Return from Query</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-for-null-fields.html">Query for Null or Missing Fields</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/iterate-a-cursor.html">Iterate a Cursor in <code class="docutils literal"><span class="pre">mongosh</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/update-documents.html">Update Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/update-documents-with-aggregation-pipeline.html">Updates with Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/update-methods.html">Update Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/remove-documents.html">Delete Documents</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/delete-methods.html">Delete Methods</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/bulk-write-operations.html">Bulk Write Operations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/retryable-writes.html">Retryable Writes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/retryable-reads.html">Retryable Reads</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/sql-comparison.html">SQL to MongoDB Mapping Chart</a></li><li class="toctree-l2"><a class="reference internal" href="../text-search.html">Text Search</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/link-text-indexes.html">Perform a Text Search (Legacy)</a></li><li class="toctree-l3"><a class="reference internal" href="../core/text-search-operators.html">Text Search Operators (Legacy)</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/text-search-in-aggregation.html">Text Search in the Aggregation Pipeline</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/text-search-languages.html">Text Search Languages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../geospatial-queries.html">Geospatial Queries</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/geospatial-tutorial.html">Find Restaurants with Geospatial Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/geojson.html">GeoJSON Objects</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/read-concern.html">Read Isolation (Read Concern)</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-local.html">Read Concern <code class="docutils literal"><span class="pre">&quot;local&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-available.html">Read Concern <code class="docutils literal"><span class="pre">&quot;available&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-majority.html">Read Concern <code class="docutils literal"><span class="pre">&quot;majority&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-linearizable.html">Read Concern <code class="docutils literal"><span class="pre">&quot;linearizable&quot;</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/read-concern-snapshot.html">Read Concern <code class="docutils literal"><span class="pre">&quot;snapshot&quot;</span></code></a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/write-concern.html">Write Acknowledgement (Write Concern)</a></li><li class="toctree-l2"><a class="reference internal" href="../core/crud.html">MongoDB CRUD Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/analyze-query-plan.html">Analyze Query Performance</a></li><li class="toctree-l3"><a class="reference internal" href="../core/write-operations-atomicity.html">Atomicity and Transactions</a></li><li class="toctree-l3"><a class="reference internal" href="../core/distributed-queries.html">Distributed Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../core/dot-dollar-considerations.html">Field Names with Periods (<code class="docutils literal"><span class="pre">.</span></code>) and Dollar Signs (<code class="docutils literal"><span class="pre">$</span></code>)</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-isolation-consistency-recency.html">Read Isolation, Consistency, and Recency</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/causal-consistency-read-write-concerns.html">Causal Consistency and Read and Write Concerns</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/query-optimization.html">Query Optimization</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/evaluate-operation-performance.html">Evaluate Performance of Current Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/optimize-query-performance-with-indexes-and-projections.html">Optimize Query Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../core/write-performance.html">Write Operation Performance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/query-plans.html">Query Plans</a></li><li class="toctree-l3"><a class="reference internal" href="../core/tailable-cursors.html">Tailable Cursors</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation Operations</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/aggregation-pipeline.html">Aggregation Pipeline</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-optimization.html">Aggregation Pipeline Optimization</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-limits.html">Aggregation Pipeline Limits</a></li><li class="toctree-l3"><a class="reference internal" href="../core/aggregation-pipeline-sharded-collections.html">Aggregation Pipeline and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-zip-code-data-set.html">Example with ZIP Code Data</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/aggregation-with-user-preference-data.html">Example with User Preference Data</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/aggregation.html">Aggregation Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../meta/aggregation-quick-reference.html">Aggregation Pipeline Quick Reference</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation/interface.html">Aggregation Commands</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-commands-comparison.html">Aggregation Commands Comparison</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/aggregation-variables.html">Variables in Aggregation Expressions</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/sql-aggregation-comparison.html">SQL to Aggregation Mapping Chart</a></li><li class="toctree-l3"><a class="reference external" href="https://www.practical-mongodb-aggregations.com">Practical MongoDB Aggregations (e-book)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/map-reduce.html">Map-Reduce</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-sharded-collections.html">Map-Reduce and Sharded Collections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/map-reduce-concurrency.html">Map-Reduce Concurrency</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/map-reduce-examples.html">Map-Reduce Examples</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-incremental-map-reduce.html">Perform Incremental Map-Reduce</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-map-function.html">Troubleshoot the Map Function</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-reduce-function.html">Troubleshoot the Reduce Function</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/map-reduce-to-aggregation-pipeline.html">Map-Reduce to Aggregation Pipeline</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Models</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/data-modeling-introduction.html">Data Modeling Introduction</a></li><li class="toctree-l2"><a class="reference internal" href="../core/schema-validation.html">Schema Validation</a></li><li class="toctree-l2"><a class="reference internal" href="../core/data-models.html">Data Modeling Concepts</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/data-model-design.html">Data Model Design</a></li><li class="toctree-l3"><a class="reference internal" href="../core/data-model-operations.html">Operational Factors and Data Models</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/data-models.html">Data Model Examples and Patterns</a><ul><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-relationships.html">Model Relationships Between Documents</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-one-relationships-between-documents.html">Model One-to-One Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-embedded-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Embedded Documents</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-referenced-one-to-many-relationships-between-documents.html">Model One-to-Many Relationships with Document References</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-tree-structures.html">Model Tree Structures</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-parent-references.html">Model Tree Structures with Parent References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-child-references.html">Model Tree Structures with Child References</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-ancestors-array.html">Model Tree Structures with an Array of Ancestors</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-materialized-paths.html">Model Tree Structures with Materialized Paths</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-tree-structures-with-nested-sets.html">Model Tree Structures with Nested Sets</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../applications/data-models-applications.html">Model Specific Application Contexts</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-atomic-operations.html">Model Data for Atomic Operations</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-keyword-search.html">Model Data to Support Keyword Search</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-data-for-schema-versioning.html">Model Data for Schema Versioning</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-monetary-data.html">Model Monetary Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-iot-data.html">Model IoT Data</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/model-computed-data.html">Model Computed Data</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/data-models.html">Data Model Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/database-references.html">Database References</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../core/transactions.html">Transactions</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/transactions-in-applications.html">Drivers API</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-production-consideration.html">Production Considerations</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-sharded-clusters.html">Production Considerations (Sharded Clusters)</a></li><li class="toctree-l2"><a class="reference internal" href="../core/transactions-operations.html">Transactions and Operations</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/index-single.html">Single Field Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-compound.html">Compound Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-multikey.html">Multikey Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/multikey-index-bounds.html">Multikey Index Bounds</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-text.html">Text Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/specify-language-for-text-index.html">Specify a Language for Text Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/avoid-text-index-name-limit.html">Specify Name for <code class="docutils literal"><span class="pre">text</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/control-results-of-text-search.html">Control Search Results with Weights</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/limit-number-of-items-scanned-for-text-search.html">Limit the Number of Entries Scanned</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-wildcard.html">Wildcard Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/index-wildcard-restrictions.html">Wildcard Index Restrictions</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2dsphere.html"><code class="docutils literal"><span class="pre">2dsphere</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2dsphere-index.html">Query a <code class="docutils literal"><span class="pre">2dsphere</span></code> Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/2d.html"><code class="docutils literal"><span class="pre">2d</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-2d-index.html">Create a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-2d-index.html">Query a <code class="docutils literal"><span class="pre">2d</span></code> Index</a></li><li class="toctree-l3"><a class="reference internal" href="../core/geospatial-indexes.html"><code class="docutils literal"><span class="pre">2d</span></code> Index Internals</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes.html">Calculate Distance Using Spherical Geometry</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/geohaystack.html"><code class="docutils literal"><span class="pre">geoHaystack</span></code> Indexes</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-a-geohaystack-index.html">Create a Haystack Index</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/query-a-geohaystack-index.html">Query a Haystack Index</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-hashed.html">Hashed Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../core/index-properties.html">Index Properties</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/index-ttl.html">TTL Indexes</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/expire-data.html">Expire Data from Collections by Setting TTL</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/index-unique.html">Unique Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-partial.html">Partial Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-case-insensitive.html">Case Insensitive Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-hidden.html">Hidden Indexes</a></li><li class="toctree-l3"><a class="reference internal" href="../core/index-sparse.html">Sparse Indexes</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-creation.html">Index Builds on Populated Collections</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-replica-sets.html">Rolling Index Builds on Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/build-indexes-on-sharded-clusters.html">Rolling Index Builds on Sharded Clusters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/index-intersection.html">Index Intersection</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-indexes.html">Manage Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/measure-index-use.html">Measure Index Use</a></li><li class="toctree-l2"><a class="reference internal" href="../applications/indexes.html">Indexing Strategies</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/equality-sort-range-rule.html">The ESR (Equality, Sort, Range) Rule</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html">Create Indexes to Support Your Queries</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sort-results-with-indexes.html">Use Indexes to Sort Query Results</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/ensure-indexes-fit-ram.html">Ensure Indexes Fit in RAM</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-queries-that-ensure-selectivity.html">Create Queries that Ensure Selectivity</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/indexes.html">Indexing Reference</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/security-checklist.html">Security Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/enable-authentication.html">Enable Access Control</a></li><li class="toctree-l2"><a class="reference internal" href="../core/authentication.html">Authentication</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-scram.html">SCRAM</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-scram-client-authentication.html">Use SCRAM to Authenticate Clients</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-x.509.html">x.509</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-x509-client-authentication.html">Use x.509 Certificates to Authenticate Clients</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/kerberos.html">Kerberos Authentication</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/control-access-to-mongodb-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Linux</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/control-access-to-mongodb-windows-with-kerberos-authentication.html">Configure MongoDB with Kerberos Authentication on Windows</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/troubleshoot-kerberos.html">Troubleshoot Kerberos Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/kerberos-auth-activedirectory-authz.html">Configure MongoDB with Kerberos Authentication and Active Directory Authorization</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-ldap.html">LDAP Proxy Authentication</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-ldap-sasl-activedirectory.html">Authenticate Using SASL and LDAP with ActiveDirectory</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-ldap-sasl-openldap.html">Authenticate Using SASL and LDAP with OpenLDAP</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/authenticate-nativeldap-activedirectory.html">Authenticate and Authorize Users Using Active Directory via Native LDAP</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-internal-authentication.html">Internal/Membership Authentication</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-replica-set-with-keyfile-access-control.html">Deploy Replica Set With Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set.html">Update Replica Set to Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-replica-set-without-downtime.html">Update Replica Set to Keyfile Authentication (No Downtime)</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/deploy-sharded-cluster-with-keyfile-access-control.html">Deploy Sharded Cluster with Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster.html">Update Sharded Cluster to Keyfile Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/enforce-keyfile-access-control-in-existing-sharded-cluster-no-downtime.html">Update Sharded Cluster to Keyfile Authentication (No Downtime)</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-key-replica-set.html">Rotate Keys for Replica Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-key-sharded-cluster.html">Rotate Keys for Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-x509-member-authentication.html">Use x.509 Certificate for Membership Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/upgrade-keyfile-to-x509.html">Upgrade from Keyfile Authentication to x.509 Authentication</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-x509-membership-certificates.html">Rolling Update of x.509 Cluster Certificates that Contain New DN</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/localhost-exception.html">Localhost Exception</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-users.html">Users</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/create-users.html">Create a User</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/authenticate-a-user.html">Authenticate a User</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/list-users.html">List Users</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/authorization.html">Role-Based Access Control</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/built-in-roles.html">Built-In Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-user-defined-roles.html">User-Defined Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-users-and-roles.html">Manage Users and Roles</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-own-password-and-custom-data.html">Change Your Password and Custom Data</a></li><li class="toctree-l3"><a class="reference internal" href="../core/collection-level-access-control.html">Collection-Level Access Control</a></li><li class="toctree-l3"><a class="reference internal" href="../core/security-ldap-external.html">LDAP Authorization</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-data-encryption.html">Encryption</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-in-use-encryption.html">In-Use Encryption</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/queryable-encryption.html">Introduction</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/features.html">Features</a></li><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/install.html">Installation Requirements</a></li><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/quick-start.html">Quick Start</a></li><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/fundamentals.html">Fundamentals</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/fundamentals/encrypt-and-query.html">Field Encryption and Queryability</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/fundamentals/manage-collections.html">Encrypted Collection Management</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/fundamentals/keys-key-vaults.html">Keys and Key Vaults</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/fundamentals/manage-keys.html">Encryption Key Management</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/fundamentals/kms-providers.html">KMS Providers</a></li></ul></li><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/tutorials.html">Tutorials</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/tutorials/aws/aws-automatic.html">Use Automatic  with AWS</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/tutorials/azure/azure-automatic.html">Use Automatic  with Azure</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/tutorials/gcp/gcp-automatic.html">Use Automatic  with GCP</a></li></ul></li><li class="toctree-l5"><a class="reference internal" href="../core/queryable-encryption/reference.html">Reference</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/compatibility.html">Compatibility</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/limitations.html">Limitations</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/supported-operations.html">Supported Operations for</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/qe-options-clients.html">MongoClient Options for</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/shared-library.html">Overview</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/libmongocrypt.html">Install libmongocrypt</a></li><li class="toctree-l6"><a class="reference internal" href="../core/queryable-encryption/reference/mongocryptd.html">Install and Configure mongocryptd</a></li></ul></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../core/csfle.html">Introduction</a><ul><li class="toctree-l5"><a class="reference internal" href="../core/csfle/features.html">Features</a></li><li class="toctree-l5"><a class="reference internal" href="../core/csfle/install.html">Installation Requirements</a></li><li class="toctree-l5"><a class="reference internal" href="../core/csfle/quick-start.html">Quick Start</a></li><li class="toctree-l5"><a class="reference internal" href="../core/csfle/fundamentals.html">Fundamentals</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/automatic-encryption.html">Automatic Encryption</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/manual-encryption.html">Overview</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/create-schema.html">Encryption Schemas</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/keys-key-vaults.html">Keys and Key Vaults</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/manage-keys.html">Encryption Key Management</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/fundamentals/encryption-algorithms.html">Fields and Encryption Types</a></li></ul></li><li class="toctree-l5"><a class="reference internal" href="../core/csfle/tutorials.html">Tutorials</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/csfle/tutorials/aws/aws-automatic.html">Use Automatic  with AWS</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/tutorials/azure/azure-automatic.html">Use Automatic  with Azure</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/tutorials/gcp/gcp-automatic.html">Use Automatic  with GCP</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/tutorials/kmip/kmip-automatic.html">Use Automatic  with KMIP</a></li></ul></li><li class="toctree-l5"><a class="reference internal" href="../core/csfle/reference.html">Reference</a><ul><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/compatibility.html">Compatibility</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/limitations.html">Limitations</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/encryption-schemas.html">Encryption Schemas</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/server-side-schema.html">Server-Side Schema Enforcement</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/supported-operations.html">Supported Operations for Automatic Encryption</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/csfle-options-clients.html">-Specific MongoClient Options</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/kms-providers.html">KMS Providers</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/encryption-components.html">Encryption Components</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/decryption.html">How CSFLE Decrypts Documents</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/cryptographic-primitives.html">Cryptographic Primitives</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/mongocryptd.html">Install and Configure mongocryptd</a></li><li class="toctree-l6"><a class="reference internal" href="../core/csfle/reference/libmongocrypt.html">Install libmongocrypt</a></li></ul></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-encryption-at-rest.html">Encryption at Rest</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-encryption.html">Configure Encryption</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/rotate-encryption-key.html">Rotate Encryption Keys</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/security-transport-encryption.html">TLS/SSL (Transport Encryption)</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-ssl.html">Configure <code class="docutils literal"><span class="pre">mongod</span></code> and <code class="docutils literal"><span class="pre">mongos</span></code> for TLS/SSL</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-ssl-clients.html">TLS/SSL Configuration for Clients</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/upgrade-cluster-to-ssl.html">Upgrade a Cluster to Use TLS/SSL</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/configure-fips.html">Configure MongoDB for FIPS</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/auditing.html">Auditing</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-auditing.html">Configure Auditing</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-audit-filters.html">Configure Audit Filters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/audit-message.html">System Event Audit Messages</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/security-hardening.html">Network and Configuration Hardening</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/security-mongodb-configuration.html">IP Binding</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-linux-iptables-firewall.html">Configure Linux <code class="docutils literal"><span class="pre">iptables</span></code> Firewall for MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-windows-netsh-firewall.html">Configure Windows <code class="docutils literal"><span class="pre">netsh</span></code> Firewall for MongoDB</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/implement-field-level-redaction.html">Implement Field Level Redaction</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/security.html">Security Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/system-roles-collection.html"><code class="docutils literal"><span class="pre">system.roles</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/system-users-collection.html"><code class="docutils literal"><span class="pre">system.users</span></code> Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/resource-document.html">Resource Document</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/privilege-actions.html">Privilege Actions</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/create-a-vulnerability-report.html">Create a Vulnerability Report</a></li><li class="toctree-l2"><a class="reference internal" href="../appendix/security.html">Appendix</a><ul><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixA-openssl-ca.html">Appendix A - OpenSSL CA Certificate for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixB-openssl-server.html">Appendix B - OpenSSL Server Certificates for Testing</a></li><li class="toctree-l3"><a class="reference internal" href="../appendix/security/appendixC-openssl-client.html">Appendix C - OpenSSL Client Certificates for Testing</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../changeStreams.html">Change Streams</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/change-streams-production-recommendations.html">Change Streams Production Recommendations</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/change-events.html">Change Events</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-members.html">Replica Set Members</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-primary.html">Replica Set Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-secondary.html">Replica Set Secondary Members</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-priority-0-member.html">Priority 0 Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-hidden-member.html">Hidden Replica Set Members</a></li><li class="toctree-l4"><a class="reference internal" href="../core/replica-set-delayed-member.html">Delayed Replica Set Members</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-arbiter.html">Replica Set Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-oplog.html">Replica Set Oplog</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-sync.html">Replica Set Data Synchronization</a></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Deployment Architectures</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-three-members.html">Three Member Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-architecture-geographically-distributed.html">Replica Sets Distributed Across Two or More Data Centers</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/replica-set-high-availability.html">Replica Set High Availability</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-elections.html">Replica Set Elections</a></li><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-rollbacks.html">Rollbacks During Replica Set Failover</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Read and Write Semantics</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/replica-set-write-concern.html">Write Concern for Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference.html">Read Preference</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-tags.html">Tag Sets</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-staleness.html">maxStalenessSeconds</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-hedge-option.html">Hedged Read Option</a></li><li class="toctree-l4"><a class="reference internal" href="../core/read-preference-use-cases.html">Read Preference Use Cases</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/read-preference-mechanics.html">Server Selection Algorithm</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-deployment.html">Replica Set Deployment Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set.html">Deploy a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-replica-set-for-testing.html">Deploy a Replica Set for Testing and Development</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/deploy-geographically-distributed-replica-set.html">Deploy a Geographically Redundant Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-replica-set-arbiter.html">Add an Arbiter to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/expand-replica-set.html">Add Members to a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-replica-set-member.html">Remove Members from Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/replace-replica-set-member.html">Replace a Replica Set Member</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-member-configuration.html">Member Configuration Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/adjust-replica-set-member-priority.html">Adjust Priority for Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-secondary-only-replica-set-member.html">Prevent Secondary from Becoming Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-hidden-replica-set-member.html">Configure a Hidden Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-delayed-replica-set-member.html">Configure a Delayed Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-a-non-voting-replica-set-member.html">Configure Non-Voting Replica Set Member</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/replica-set-maintenance.html">Replica Set Maintenance Tutorials</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-oplog-size.html">Change the Size of the Oplog</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/perform-maintence-on-replica-set-members.html">Perform Maintenance on Replica Set Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/force-member-to-be-primary.html">Force a Member to Become Primary</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/resync-replica-set-member.html">Resync a Member of a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-tag-sets.html">Configure Replica Set Tag Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-chained-replication.html">Manage Chained Replication</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/change-hostnames-in-a-replica-set.html">Change Hostnames in a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-replica-set-secondary-sync-target.html">Configure a Secondarys Sync Target</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rename-unsharded-replica-set.html">Rename a Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/modify-psa-replica-set-safely.html">Modify PSA Replica Set Safely</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/mitigate-psa-performance-issues.html">Mitigate Performance Issues with PSA Replica Set</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/replication.html">Replication Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-set-protocol-versions.html">Replica Set Protocol Version</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-replica-sets.html">Troubleshoot Replica Sets</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/local-database.html">The <code class="docutils literal"><span class="pre">local</span></code> Database</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/replica-states.html">Replica Set Member States</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/sharded-cluster-components.html">Sharded Cluster Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-shards.html">Shards</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-config-servers.html">Config Servers (metadata)</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-query-router.html">Router (mongos)</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-shard-key.html">Shard Keys</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharding-shard-a-collection.html">Shard a Collection</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-choose-a-shard-key.html">Choose a Shard Key</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-change-a-shard-key.html">Change a Shard Key</a><ul><li class="toctree-l4"><a class="reference internal" href="../core/sharding-refine-a-shard-key.html">Refine a Shard Key</a></li><li class="toctree-l4"><a class="reference internal" href="../core/sharding-reshard-a-collection.html">Reshard a Collection</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-change-shard-key-value.html">Change a Documents Shard Key Value</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-set-missing-shard-key-fields.html">Set Missing Shard Key Fields</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-find-shard-key.html">Find a Shard Key</a></li><li class="toctree-l3"><a class="reference internal" href="../core/sharding-troubleshooting-shard-keys.html">Troubleshoot Shard Keys</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/hashed-sharding.html">Hashed Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../core/ranged-sharding.html">Ranged Sharding</a></li><li class="toctree-l2"><a class="reference internal" href="../tutorial/deploy-shard-cluster.html">Deploy a Sharded Cluster</a></li><li class="toctree-l2"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-data-partitioning.html">Data Partitioning with Chunks</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/create-chunks-in-sharded-cluster.html">Create Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/split-chunks-in-sharded-cluster.html">Split Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/merge-chunks-in-sharded-cluster.html">Merge Chunks in a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/modify-chunk-size-in-sharded-cluster.html">Modify Chunk Size in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/sharding-balancer-administration.html">Balancer</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-sharded-cluster-balancer.html">Manage Sharded Cluster Balancer</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-chunks-in-sharded-cluster.html">Migrate Chunks in a Sharded Cluster</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/sharded-cluster-administration.html">Administration</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/sharded-cluster-config-servers.html">Config Server Administration</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/replace-config-server.html">Replace a Config Server</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/view-sharded-cluster-configuration.html">View Cluster Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restart-sharded-cluster.html">Restart a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/migrate-sharded-cluster-to-new-hardware.html">Migrate a Sharded Cluster to Different Hardware</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/add-shards-to-shard-cluster.html">Add Shards to a Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/remove-shards-from-cluster.html">Remove Shards from an Existing Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/clear-jumbo-flag.html">Clear <code class="docutils literal"><span class="pre">jumbo</span></code> Flag</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-sharded-cluster-metadata.html">Back Up Cluster Metadata</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-sharded-cluster-to-replica-set.html">Convert Sharded Cluster to Replica Set</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-replica-set-to-replicated-shard-cluster.html">Convert a Replica Set to a Sharded Cluster</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-shard-standalone-to-shard-replica-set.html">Convert a Shard Standalone to a Shard Replica Set</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/sharding.html">Sharding Reference</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/sharded-cluster-requirements.html">Operational Restrictions</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-sharded-clusters.html">Troubleshoot Sharded Clusters</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/config-database.html">Config Database</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a><ul><li class="toctree-l2"><a class="reference internal" href="../administration/production-notes.html">Production Notes</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-operations.html">Operations Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/production-checklist-development.html">Development Checklist</a></li><li class="toctree-l2"><a class="reference internal" href="../administration/analyzing-mongodb-performance.html">Performance</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/connection-pool-overview.html">Connection Pool Overview</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/connection-pool-performance-tuning.html">Tuning Your Connection Pool Settings</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Database Profiler</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/database-profiler.html">Database Profiler Output</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/transparent-huge-pages.html">Disable Transparent Huge Pages (THP)</a></li><li class="toctree-l3"><a class="reference internal" href="../administration/health-managers.html">Manage Sharded Cluster Health with Health Managers</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/ulimit.html">UNIX <code class="docutils literal"><span class="pre">ulimit</span></code> Settings</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/configuration-and-maintenance.html">Configuration and Maintenance</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/configuration.html">Run-time Database Configuration</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/upgrade-revision.html">Upgrade to the Latest Revision of MongoDB</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <code class="docutils literal"><span class="pre">mongod</span></code> Processes</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/terminate-running-operations.html">Terminate Running Operations</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../data-center-awareness.html">Data Center Awareness</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/workload-isolation.html">Workload Isolation in MongoDB Deployments</a></li><li class="toctree-l3"><a class="reference internal" href="../core/zone-sharding.html">Zones</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-data-by-location.html">Segmenting Data by Location</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-tiered-hardware-for-varying-slas.html">Tiered Hardware for Varying SLA or SLO</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-segmenting-shards.html">Segmenting Data by Application or Customer</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/sharding-high-availability-writes.html">Distributed Local Writes for Insert Only Workloads</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-shard-zone.html">Manage Shard Zones</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/backups.html">MongoDB Backup Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-with-filesystem-snapshots.html">Back Up and Restore with Filesystem Snapshots</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/backup-and-restore-tools.html">Back Up and Restore with MongoDB Tools</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/restore-replica-set-from-backup.html">Restore a Replica Set from MongoDB Backups</a></li><li class="toctree-l3"><a class="reference internal" href="../administration/backup-sharded-clusters.html">Backup and Restore Sharded Clusters</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-filesystem-snapshots.html">Back Up a Sharded Cluster with File System Snapshots</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/backup-sharded-cluster-with-database-dumps.html">Back Up a Sharded Cluster with Database Dumps</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/schedule-backup-window-for-sharded-clusters.html">Schedule Backup Window for Sharded Clusters</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/restore-sharded-cluster.html">Restore a Sharded Cluster</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/recover-data-following-unexpected-shutdown.html">Recover a Standalone after an Unexpected Shutdown</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../administration/monitoring.html">Monitoring for MongoDB</a><ul><li class="toctree-l3"><a class="reference internal" href="../administration/free-monitoring.html">Free Monitoring</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp.html">Monitor MongoDB With SNMP on Linux</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/monitor-with-snmp-on-windows.html">Monitor MongoDB Windows with SNMP</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/troubleshoot-snmp.html">Troubleshoot SNMP</a></li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../storage.html">Storage</a><ul><li class="toctree-l2"><a class="reference internal" href="../core/storage-engines.html">Storage Engines</a><ul><li class="toctree-l3"><a class="reference internal" href="../core/wiredtiger.html">WiredTiger Storage Engine</a><ul><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-standalone-wiredtiger.html">Change Standalone to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-replica-set-wiredtiger.html">Change Replica Set to WiredTiger</a></li><li class="toctree-l4"><a class="reference internal" href="../tutorial/change-sharded-cluster-wiredtiger.html">Change Sharded Cluster to WiredTiger</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../core/inmemory.html">In-Memory Storage Engine</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/journaling.html">Journaling</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/manage-journaling.html">Manage Journaling</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../core/gridfs.html">GridFS</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a><ul><li class="toctree-l2"><a class="reference internal" href="../faq/fundamentals.html">FAQ: MongoDB Fundamentals</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/indexes.html">FAQ: Indexes</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/concurrency.html">FAQ: Concurrency</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/sharding.html">FAQ: Sharding with MongoDB</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/replica-sets.html">FAQ: Replication and Replica Sets</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/storage.html">FAQ: MongoDB Storage</a></li><li class="toctree-l2"><a class="reference internal" href="../faq/diagnostics.html">FAQ: MongoDB Diagnostics</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a><ul><li class="toctree-l2"><a class="reference internal" href="../reference/operator.html">Operators</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/operator/query.html">Query and Projection Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-comparison.html">Comparison Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/eq.html">$eq</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gt.html">$gt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/gte.html">$gte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/in.html">$in</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lt.html">$lt</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/lte.html">$lte</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/ne.html">$ne</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nin.html">$nin</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-logical.html">Logical Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/and.html">$and</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/not.html">$not</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nor.html">$nor</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/or.html">$or</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-element.html">Element Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/exists.html">$exists</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/type.html">$type</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-evaluation.html">Evaluation Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/expr.html">$expr</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/jsonSchema.html">$jsonSchema</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/mod.html">$mod</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/regex.html">$regex</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/text.html">$text</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/where.html">$where</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-geospatial.html">Geospatial Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoIntersects.html">$geoIntersects</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geoWithin.html">$geoWithin</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/near.html">$near</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/nearSphere.html">$nearSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/box.html">$box</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/center.html">$center</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/centerSphere.html">$centerSphere</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/geometry.html">$geometry</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/maxDistance.html">$maxDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/minDistance.html">$minDistance</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/polygon.html">$polygon</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/uniqueDocs.html">$uniqueDocs</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-array.html">Array Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/all.html">$all</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/elemMatch.html">$elemMatch (query)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/size.html">$size</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-bitwise.html">Bitwise Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllClear.html">$bitsAllClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAllSet.html">$bitsAllSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnyClear.html">$bitsAnyClear</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/bitsAnySet.html">$bitsAnySet</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/projection.html">Projection Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/positional.html">$ (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/elemMatch.html">$elemMatch (projection)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/projection/slice.html">$slice (projection)</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/query-miscellaneous.html">Miscellaneous Query Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/comment.html">$comment</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/query/rand.html">$rand</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/meta/natural.html">$natural</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/update.html">Update Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-field.html">Field Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/currentDate.html">$currentDate</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/inc.html">$inc</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/min.html">$min</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/max.html">$max</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/mul.html">$mul</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/rename.html">$rename</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/set.html">$set</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/setOnInsert.html">$setOnInsert</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/unset.html">$unset</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-array.html">Array Update Operators</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional.html">$ (update)</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-all.html">$[]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/positional-filtered.html">$[&lt;identifier&gt;]</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/addToSet.html">$addToSet</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pop.html">$pop</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pull.html">$pull</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/push.html">$push</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/pullAll.html">$pullAll</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/each.html">$each</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/position.html">$position</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/slice.html">$slice</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/sort.html">$sort</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/update-bitwise.html">Bitwise Update Operator</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/operator/update/bit.html">$bit</a></li></ul></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation-pipeline.html">Aggregation Pipeline Stages</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addFields.html">$addFields (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucket.html">$bucket (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bucketAuto.html">$bucketAuto (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/collStats.html">$collStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/count.html">$count (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/currentOp.html">$currentOp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/densify.html">$densify (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/documents.html">$documents (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/facet.html">$facet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/fill.html">$fill (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/geoNear.html">$geoNear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/graphLookup.html">$graphLookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/group.html">$group (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexStats.html">$indexStats (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/limit.html">$limit (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listLocalSessions.html">$listLocalSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/listSessions.html">$listSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lookup.html">$lookup (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/match.html">$match (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/merge.html">$merge (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/out.html">$out (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/planCacheStats.html">$planCacheStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/project.html">$project (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/redact.html">$redact (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceRoot.html">$replaceRoot (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceWith.html">$replaceWith (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sample.html">$sample (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/search.html">$search (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/searchMeta.html">$searchMeta (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/set.html">$set (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setWindowFields.html">$setWindowFields (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/skip.html">$skip (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sort.html">$sort (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sortByCount.html">$sortByCount (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unionWith.html">$unionWith (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unset.html">$unset (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unwind.html">$unwind (aggregation)</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/operator/aggregation.html">Aggregation Pipeline Operators</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/abs.html">$abs (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/accumulator.html">$accumulator (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/acos.html">$acos (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/acosh.html">$acosh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/add.html">$add (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/addToSet.html">$addToSet (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/allElementsTrue.html">$allElementsTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/and.html">$and (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/anyElementTrue.html">$anyElementTrue (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayElemAt.html">$arrayElemAt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/arrayToObject.html">$arrayToObject (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/asin.html">$asin (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/asinh.html">$asinh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atan.html">$atan (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atan2.html">$atan2 (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/atanh.html">$atanh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/avg.html">$avg (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/binarySize.html">$binarySize (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bottom.html">$bottom (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bottomN.html">$bottomN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/bsonSize.html">$bsonSize (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ceil.html">$ceil (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cmp.html">$cmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concat.html">$concat (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/concatArrays.html">$concatArrays (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cond.html">$cond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/convert.html">$convert (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cos.html">$cos (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/cosh.html">$cosh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/count-accumulator.html">$count (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/covariancePop.html">$covariancePop (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/covarianceSamp.html">$covarianceSamp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateAdd.html">$dateAdd (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateDiff.html">$dateDiff (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromParts.html">$dateFromParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateFromString.html">$dateFromString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateSubtract.html">$dateSubtract (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToParts.html">$dateToParts (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateToString.html">$dateToString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dateTrunc.html">$dateTrunc (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfMonth.html">$dayOfMonth (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfWeek.html">$dayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/dayOfYear.html">$dayOfYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/degreesToRadians.html">$degreesToRadians (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/denseRank.html">$denseRank (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/derivative.html">$derivative (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/divide.html">$divide (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/documentNumber.html">$documentNumber (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/eq.html">$eq (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/exp.html">$exp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/expMovingAvg.html">$expMovingAvg (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/filter.html">$filter (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/first.html">$first (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/firstN.html">$firstN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/first-array-element.html">$first (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/firstN-array-element.html">$firstN (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/floor.html">$floor (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/function.html">$function (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/getField.html">$getField (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gt.html">$gt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/gte.html">$gte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/hour.html">$hour (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ifNull.html">$ifNull (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/in.html">$in (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfArray.html">$indexOfArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfBytes.html">$indexOfBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/indexOfCP.html">$indexOfCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/integral.html">$integral (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isArray.html">$isArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isNumber.html">$isNumber (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoDayOfWeek.html">$isoDayOfWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeek.html">$isoWeek (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/isoWeekYear.html">$isoWeekYear (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/last.html">$last (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lastN.html">$lastN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/last-array-element.html">$last (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lastN-array-element.html">$lastN (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/let.html">$let (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/linearFill.html">$linearFill (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/literal.html">$literal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ln.html">$ln (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/locf.html">$locf (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log.html">$log (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/log10.html">$log10 (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lt.html">$lt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/lte.html">$lte (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ltrim.html">$ltrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/map.html">$map (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/max.html">$max (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/maxN.html">$maxN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/maxN-array-element.html">$maxN (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mergeObjects.html">$mergeObjects (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/meta.html">$meta</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/min.html">$min (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/minN.html">$minN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/minN-array-element.html">$minN (array operator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/millisecond.html">$millisecond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/minute.html">$minute (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/mod.html">$mod (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/month.html">$month (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/multiply.html">$multiply (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/ne.html">$ne (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/not.html">$not (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/objectToArray.html">$objectToArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/or.html">$or (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/pow.html">$pow (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/push.html">$push (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/radiansToDegrees.html">$radiansToDegrees (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/rand.html">$rand (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/range.html">$range (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/rank.html">$rank (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reduce.html">$reduce (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexFind.html">$regexFind (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexFindAll.html">$regexFindAll (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/regexMatch.html">$regexMatch (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceOne.html">$replaceOne (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/replaceAll.html">$replaceAll (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/reverseArray.html">$reverseArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/round.html">$round (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/rtrim.html">$rtrim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sampleRate.html">$sampleRate (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/second.html">$second (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setDifference.html">$setDifference (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setEquals.html">$setEquals (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setField.html">$setField (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIntersection.html">$setIntersection (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setIsSubset.html">$setIsSubset (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/setUnion.html">$setUnion (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/shift.html">$shift (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/size.html">$size (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sin.html">$sin (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sinh.html">$sinh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/slice.html">$slice (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sortArray.html">$sortArray (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/split.html">$split (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sqrt.html">$sqrt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevPop.html">$stdDevPop (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/stdDevSamp.html">$stdDevSamp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strcasecmp.html">$strcasecmp (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenBytes.html">$strLenBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/strLenCP.html">$strLenCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substr.html">$substr (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrBytes.html">$substrBytes (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/substrCP.html">$substrCP (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/subtract.html">$subtract (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/sum.html">$sum (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/switch.html">$switch (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/tan.html">$tan (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/tanh.html">$tanh (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toBool.html">$toBool (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDate.html">$toDate (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDecimal.html">$toDecimal (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toDouble.html">$toDouble(aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toInt.html">$toInt (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLong.html">$toLong (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toObjectId.html">$toObjectId (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/top.html">$top (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/topN.html">$topN (aggregation accumulator)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toString.html">$toString (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toLower.html">$toLower (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/toUpper.html">$toUpper (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/tsIncrement.html">$tsIncrement (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/tsSecond.html">$tsSecond (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trim.html">$trim (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/trunc.html">$trunc (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/type.html">$type (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/unsetField.html">$unsetField (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/week.html">$week (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/year.html">$year (aggregation)</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/operator/aggregation/zip.html">$zip (aggregation)</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/command.html">Database Commands</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-aggregation.html">Aggregation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/aggregate.html">aggregate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/count.html">count</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/distinct.html">distinct</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mapReduce.html">mapReduce</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-geospatial.html">Geospatial Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/geoSearch.html">geoSearch</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-crud.html">Query and Write Operation Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/delete.html">delete</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/find.html">find</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/findAndModify.html">findAndModify</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLastError.html">getLastError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getMore.html">getMore</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/insert.html">insert</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/resetError.html">resetError</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/update.html">update</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-plan-cache.html">Query Plan Cache Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClear.html">planCacheClear</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheClearFilters.html">planCacheClearFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheListFilters.html">planCacheListFilters</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/planCacheSetFilter.html">planCacheSetFilter</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-authentication.html">Authentication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/authenticate.html">authenticate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getnonce.html">getnonce</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logout.html">logout</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-user-management.html">User Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createUser.html">createUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllUsersFromDatabase.html">dropAllUsersFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropUser.html">dropUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToUser.html">grantRolesToUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromUser.html">revokeRolesFromUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateUser.html">updateUser</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/usersInfo.html">usersInfo</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-role-management.html">Role Management Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/createRole.html">createRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropRole.html">dropRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropAllRolesFromDatabase.html">dropAllRolesFromDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantPrivilegesToRole.html">grantPrivilegesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/grantRolesToRole.html">grantRolesToRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/invalidateUserCache.html">invalidateUserCache</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokePrivilegesFromRole.html">revokePrivilegesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/revokeRolesFromRole.html">revokeRolesFromRole</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/rolesInfo.html">rolesInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateRole.html">updateRole</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-replication.html">Replication Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/applyOps.html">applyOps</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hello.html">hello</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetAbortPrimaryCatchUp.html">replSetAbortPrimaryCatchUp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetFreeze.html">replSetFreeze</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetConfig.html">replSetGetConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetGetStatus.html">replSetGetStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetInitiate.html">replSetInitiate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetMaintenance.html">replSetMaintenance</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetReconfig.html">replSetReconfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetResizeOplog.html">replSetResizeOplog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetStepDown.html">replSetStepDown</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/replSetSyncFrom.html">replSetSyncFrom</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sharding.html">Sharding Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/abortReshardCollection.html">abortReshardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShard.html">addShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/addShardToZone.html">addShardToZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerCollectionStatus.html">balancerCollectionStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStart.html">balancerStart</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStatus.html">balancerStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/balancerStop.html">balancerStop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/checkShardingIndex.html">checkShardingIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/clearJumboFlag.html">clearJumboFlag</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cleanupOrphaned.html">cleanupOrphaned</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cleanupReshardCollection.html">cleanupReshardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/commitReshardCollection.html">commitReshardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/configureCollectionBalancing.html">configureCollectionBalancing</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/enableSharding.html">enableSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/flushRouterConfig.html">flushRouterConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardMap.html">getShardMap</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getShardVersion.html">getShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isdbgrid.html">isdbgrid</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listShards.html">listShards</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/medianKey.html">medianKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/moveChunk.html">moveChunk</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/movePrimary.html">movePrimary</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/mergeChunks.html">mergeChunks</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/refineCollectionShardKey.html">refineCollectionShardKey</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShard.html">removeShard</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/removeShardFromZone.html">removeShardFromZone</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/reshardCollection.html">reshardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setAllowMigrations.html">setAllowMigrations</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setShardVersion.html">setShardVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardCollection.html">shardCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardingState.html">shardingState</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/split.html">split</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/splitVector.html">splitVector</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/unsetSharding.html">unsetSharding</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/updateZoneKeyRange.html">updateZoneKeyRange</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-sessions.html">Sessions Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/abortTransaction.html">abortTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/commitTransaction.html">commitTransaction</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/endSessions.html">endSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessions.html">killAllSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killAllSessionsByPattern.html">killAllSessionsByPattern</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killSessions.html">killSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/refreshSessions.html">refreshSessions</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/startSession.html">startSession</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-administration.html">Administration Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/cloneCollectionAsCapped.html">cloneCollectionAsCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collMod.html">collMod</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/compact.html">compact</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolSync.html">connPoolSync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/convertToCapped.html">convertToCapped</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/create.html">create</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/createIndexes.html">createIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/currentOp.html">currentOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/drop.html">drop</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropDatabase.html">dropDatabase</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropConnections.html">dropConnections</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dropIndexes.html">dropIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/filemd5.html">filemd5</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsync.html">fsync</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/fsyncUnlock.html">fsyncUnlock</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getAuditConfig.html">getAuditConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getDefaultRWConcern.html">getDefaultRWConcern</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getParameter.html">getParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killCursors.html">killCursors</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/killOp.html">killOp</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCollections.html">listCollections</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listDatabases.html">listDatabases</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listIndexes.html">listIndexes</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/logRotate.html">logRotate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/reIndex.html">reIndex</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/renameCollection.html">renameCollection</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/rotateCertificates.html">rotateCertificates</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setAuditConfig.html">setAuditConfig</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFeatureCompatibilityVersion.html">setFeatureCompatibilityVersion</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setIndexCommitQuorum.html">setIndexCommitQuorum</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setParameter.html">setParameter</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setDefaultRWConcern.html">setDefaultRWConcern</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setUserWriteBlockMode.html">setUserWriteBlockMode</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shutdown.html">shutdown</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-diagnostic.html">Diagnostic Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/buildInfo.html">buildInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/collStats.html">collStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connPoolStats.html">connPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/connectionStatus.html">connectionStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/cursorInfo.html">cursorInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dataSize.html">dataSize</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbHash.html">dbHash</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/dbStats.html">dbStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/diagLogging.html">diagLogging</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/driverOIDTest.html">driverOIDTest</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/explain.html">explain</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/features.html">features</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getCmdLineOpts.html">getCmdLineOpts</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/getLog.html">getLog</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/hostInfo.html">hostInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/isSelf.html">isSelf</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/listCommands.html">listCommands</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/lockInfo.html">lockInfo</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/netstat.html">netstat</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/ping.html">ping</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/profile.html">profile</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/serverStatus.html">serverStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/shardConnPoolStats.html">shardConnPoolStats</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/top.html">top</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/validate.html">validate</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/validateDBMetadata.html">validateDBMetadata</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/whatsmyuri.html">whatsmyuri</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-free-monitoring.html">Free Monitoring Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/getFreeMonitoringStatus.html">getFreeMonitoringStatus</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/command/setFreeMonitoring.html">setFreeMonitoring</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/command/nav-auditing.html">System Events Auditing Commands</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/command/logApplicationMessage.html">logApplicationMessage</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/method.html"><code class="docutils literal"><span class="pre">mongosh</span></code> Methods</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-collection.html">Collection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.aggregate.html">db.collection.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.bulkWrite.html">db.collection.bulkWrite()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.count.html">db.collection.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.countDocuments.html">db.collection.countDocuments()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndex.html">db.collection.createIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.createIndexes.html">db.collection.createIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dataSize.html">db.collection.dataSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteOne.html">db.collection.deleteOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.deleteMany.html">db.collection.deleteMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.distinct.html">db.collection.distinct()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.drop.html">db.collection.drop()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndex.html">db.collection.dropIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.dropIndexes.html">db.collection.dropIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html">db.collection.ensureIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.estimatedDocumentCount.html">db.collection.estimatedDocumentCount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.explain.html">db.collection.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.find.html">db.collection.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findAndModify.html">db.collection.findAndModify()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOne.html">db.collection.findOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndDelete.html">db.collection.findOneAndDelete()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndReplace.html">db.collection.findOneAndReplace()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.findOneAndUpdate.html">db.collection.findOneAndUpdate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getIndexes.html">db.collection.getIndexes()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardDistribution.html">db.collection.getShardDistribution()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getShardVersion.html">db.collection.getShardVersion()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.hideIndex.html">db.collection.hideIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insert.html">db.collection.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertOne.html">db.collection.insertOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.insertMany.html">db.collection.insertMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.isCapped.html">db.collection.isCapped()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.latencyStats.html">db.collection.latencyStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.mapReduce.html">db.collection.mapReduce()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.reIndex.html">db.collection.reIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.remove.html">db.collection.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.renameCollection.html">db.collection.renameCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.replaceOne.html">db.collection.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.stats.html">db.collection.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.storageSize.html">db.collection.storageSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalIndexSize.html">db.collection.totalIndexSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.totalSize.html">db.collection.totalSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.unhideIndex.html">db.collection.unhideIndex()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.update.html">db.collection.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateOne.html">db.collection.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.updateMany.html">db.collection.updateMany()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.watch.html">db.collection.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.validate.html">db.collection.validate()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-cursor.html">Cursor Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.addOption.html">cursor.addOption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.allowDiskUse.html">cursor.allowDiskUse()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.allowPartialResults.html">cursor.allowPartialResults()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.batchSize.html">cursor.batchSize()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.close.html">cursor.close()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isClosed.html">cursor.isClosed()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.collation.html">cursor.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.comment.html">cursor.comment()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.count.html">cursor.count()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.explain.html">cursor.explain()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.forEach.html">cursor.forEach()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hasNext.html">cursor.hasNext()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.hint.html">cursor.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.isExhausted.html">cursor.isExhausted()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.itcount.html">cursor.itcount()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.limit.html">cursor.limit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.map.html">cursor.map()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.max.html">cursor.max()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.maxAwaitTimeMS.html">cursor.maxAwaitTimeMS()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.maxTimeMS.html">cursor.maxTimeMS()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.min.html">cursor.min()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.next.html">cursor.next()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.noCursorTimeout.html">cursor.noCursorTimeout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.objsLeftInBatch.html">cursor.objsLeftInBatch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.pretty.html">cursor.pretty()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readConcern.html">cursor.readConcern()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.readPref.html">cursor.readPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.returnKey.html">cursor.returnKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.showRecordId.html">cursor.showRecordId()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.size.html">cursor.size()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.skip.html">cursor.skip()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.sort.html">cursor.sort()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.tailable.html">cursor.tailable()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.toArray.html">cursor.toArray()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cursor.tryNext.html">cursor.next()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-database.html">Database Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.adminCommand.html">db.adminCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.aggregate.html">db.aggregate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.cloneDatabase.html">db.cloneDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.commandHelp.html">db.commandHelp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.copyDatabase.html">db.copyDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createCollection.html">db.createCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createView.html">db.createView()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.currentOp.html">db.currentOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropDatabase.html">db.dropDatabase()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncLock.html">db.fsyncLock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.fsyncUnlock.html">db.fsyncUnlock()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollection.html">db.getCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionInfos.html">db.getCollectionInfos()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getCollectionNames.html">db.getCollectionNames()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getLogComponents.html">db.getLogComponents()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getMongo.html">db.getMongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getName.html">db.getName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getProfilingStatus.html">db.getProfilingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getReplicationInfo.html">db.getReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getSiblingDB.html">db.getSiblingDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hello.html">db.hello()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.help.html">db.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.hostInfo.html">db.hostInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.killOp.html">db.killOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.listCommands.html">db.listCommands()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.logout.html">db.logout()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printCollectionStats.html">db.printCollectionStats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printReplicationInfo.html">db.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSecondaryReplicationInfo.html">db.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printShardingStatus.html">db.printShardingStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.resetError.html">db.resetError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.rotateCertificates.html">db.rotateCertificates()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.runCommand.html">db.runCommand()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverBuildInfo.html">db.serverBuildInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverCmdLineOpts.html">db.serverCmdLineOpts()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.serverStatus.html">db.serverStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setLogLevel.html">db.setLogLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.setProfilingLevel.html">db.setProfilingLevel()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.shutdownServer.html">db.shutdownServer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.stats.html">db.stats()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.version.html">db.version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.watch.html">db.watch()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-plan-cache.html">Query Plan Cache Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.getPlanCache.html">db.collection.getPlanCache()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clear.html">PlanCache.clear()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.clearPlansByQuery.html">PlanCache.clearPlansByQuery()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.help.html">PlanCache.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/PlanCache.list.html">PlanCache.list()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-bulk.html">Bulk Operation Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeOrderedBulkOp.html">db.collection.initializeOrderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.collection.initializeUnorderedBulkOp.html">db.collection.initializeUnorderedBulkOp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.html">Bulk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.execute.html">Bulk.execute()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.html">Bulk.find()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.arrayFilters.html">Bulk.find.arrayFilters()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.collation.html">Bulk.find.collation()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.hint.html">Bulk.find.hint()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.remove.html">Bulk.find.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.removeOne.html">Bulk.find.removeOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.replaceOne.html">Bulk.find.replaceOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.updateOne.html">Bulk.find.updateOne()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.update.html">Bulk.find.update()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.find.upsert.html">Bulk.find.upsert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.getOperations.html">Bulk.getOperations()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.insert.html">Bulk.insert()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.tojson.html">Bulk.toJSON()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Bulk.toString.html">Bulk.toString()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-user-management.html">User Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.auth.html">db.auth()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.changeUserPassword.html">db.changeUserPassword()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createUser.html">db.createUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropUser.html">db.dropUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllUsers.html">db.dropAllUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUser.html">db.getUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getUsers.html">db.getUsers()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToUser.html">db.grantRolesToUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.removeUser.html">db.removeUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromUser.html">db.revokeRolesFromUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateUser.html">db.updateUser()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/passwordPrompt.html">passwordPrompt()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-role-management.html">Role Management Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.createRole.html">db.createRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropRole.html">db.dropRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.dropAllRoles.html">db.dropAllRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRole.html">db.getRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getRoles.html">db.getRoles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantPrivilegesToRole.html">db.grantPrivilegesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokePrivilegesFromRole.html">db.revokePrivilegesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.grantRolesToRole.html">db.grantRolesToRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.revokeRolesFromRole.html">db.revokeRolesFromRole()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.updateRole.html">db.updateRole()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-replication.html">Replication Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.add.html">rs.add()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.addArb.html">rs.addArb()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.conf.html">rs.conf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.freeze.html">rs.freeze()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.help.html">rs.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.initiate.html">rs.initiate()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printReplicationInfo.html">rs.printReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSecondaryReplicationInfo.html">rs.printSecondaryReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.printSlaveReplicationInfo.html">rs.printSlaveReplicationInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.reconfig.html">rs.reconfig()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.reconfigForPSASet.html">rs.reconfigForPSASet()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.remove.html">rs.remove()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.status.html">rs.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.stepDown.html">rs.stepDown()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rs.syncFrom.html">rs.syncFrom()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-sharding.html">Sharding Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.abortReshardCollection.html">sh.abortReshardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShard.html">sh.addShard()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardTag.html">sh.addShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addShardToZone.html">sh.addShardToZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.addTagRange.html">sh.addTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.balancerCollectionStatus.html">sh.balancerCollectionStatus()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.commitReshardCollection.html">sh.commitReshardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableBalancing.html">sh.disableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableBalancing.html">sh.enableBalancing()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.disableAutoSplit.html">sh.disableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableAutoSplit.html">sh.enableAutoSplit</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.enableSharding.html">sh.enableSharding()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerHost.html">sh.getBalancerHost()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.getBalancerState.html">sh.getBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeTagRange.html">sh.removeTagRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeRangeFromZone.html">sh.removeRangeFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.help.html">sh.help()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.isBalancerRunning.html">sh.isBalancerRunning()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.moveChunk.html">sh.moveChunk()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardTag.html">sh.removeShardTag()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.removeShardFromZone.html">sh.removeShardFromZone()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.reshardCollection.html">sh.reshardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.setBalancerState.html">sh.setBalancerState()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.shardCollection.html">sh.shardCollection()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitAt.html">sh.splitAt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.splitFind.html">sh.splitFind()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.startBalancer.html">sh.startBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.status.html">sh.status()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.stopBalancer.html">sh.stopBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancer.html">sh.waitForBalancer()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForBalancerOff.html">sh.waitForBalancerOff()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.waitForPingChange.html">sh.waitForPingChange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sh.updateZoneKeyRange.html">sh.updateZoneKeyRange()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/convertShardKeyToHashed.html">convertShardKeyToHashed</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-free-monitoring.html">Free Monitoring Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.disableFreeMonitoring.html">db.disableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.enableFreeMonitoring.html">db.enableFreeMonitoring()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/db.getFreeMonitoringStatus.html">db.getFreeMonitoringStatus</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-constructor.html">Object Constructors and Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/BulkWriteResult.html">BulkWriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Date.html">Date()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.html">ObjectId</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.getTimestamp.html">ObjectId.getTimestamp()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.toString.html">ObjectId.toString()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ObjectId.valueOf.html">ObjectId.valueOf()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/UUID.html">UUID()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.html">WriteResult()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteError.html">WriteResult.hasWriteError()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/WriteResult.hasWriteConcernError.html">WriteResult.hasWriteConcernError()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-connection.html">Connection Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/connect.html">connect()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.html">Mongo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDB.html">Mongo.getDB()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDBNames.html">Mongo.getDBNames()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getDBs.html">Mongo.getDBs()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefMode.html">Mongo.getReadPrefMode()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getReadPrefTagSet.html">Mongo.getReadPrefTagSet()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.getWriteConcern.html">Mongo.getWriteConcern()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setCausalConsistency.html">Mongo.setCausalConsistency()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setReadPref.html">Mongo.setReadPref()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.startSession.html">Mongo.startSession()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.setWriteConcern.html">Mongo.setWriteConcern()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Mongo.watch.html">Mongo.watch()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/Session.html">Session</a><ul><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.abortTransaction.html">Session.abortTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.commitTransaction.html">Session.commitTransaction()</a></li><li class="toctree-l5"><a class="reference internal" href="../reference/method/Session.startTransaction.html">Session.startTransaction()</a></li></ul></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/SessionOptions.html">SessionOptions</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-native.html">Native Methods in <code class="docutils literal"><span class="pre">mongosh</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-client-side-field-level-encryption.html">Client-Side Field Level Encryption Methods</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/getKeyVault.html">getKeyVault()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.createKey.html">KeyVault.createKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.deleteKey.html">KeyVault.deleteKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKey.html">KeyVault.getKey()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKeys.html">KeyVault.getKeys()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.addKeyAlternateName.html">KeyVault.addKeyAlternateName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.removeKeyAlternateName.html">KeyVault.removeKeyAlternateName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/KeyVault.getKeyByAltName.html">KeyVault.getKeyByAltName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getClientEncryption.html">getClientEncryption()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ClientEncryption.encrypt.html">ClientEncryption.encrypt()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ClientEncryption.decrypt.html">ClientEncryption.decrypt()</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongo.html">Legacy <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a><ul><li class="toctree-l3"><a class="reference internal" href="../tutorial/configure-mongo-shell.html">Configure the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/access-mongo-shell-help.html">Access the <code class="docutils literal"><span class="pre">mongo</span></code> Shell Help</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/write-scripts-for-the-mongo-shell.html">Write Scripts for the <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l3"><a class="reference internal" href="../core/shell-types.html">Data Types in the Legacy <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/method/js-native-legacy.html">Native Methods in the Legacy Shell</a><ul><li class="toctree-l4"><a class="reference internal" href="../reference/method/cat.html">cat()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/cd.html">cd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/copyDbpath.html">copyDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getHostName.html">getHostName()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/getMemInfo.html">getMemInfo()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/hostname.html">hostname()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isInteractive.html">isInteractive()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/listFiles.html">listFiles()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/load.html">load()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/ls.html">ls()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/md5sumFile.html">md5sumFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/mkdir.html">mkdir()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/pwd.html">pwd()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/quit.html">quit()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/removeFile.html">removeFile()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/resetDbpath.html">resetDbpath()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/sleep.html">sleep()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/setVerboseShell.html">setVerboseShell()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/version.html">version()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/isWindows.html">_isWindows()</a></li><li class="toctree-l4"><a class="reference internal" href="../reference/method/rand.html">_rand()</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="../reference/mongo-shell.html"><code class="docutils literal"><span class="pre">mongo</span></code> Shell Quick Reference</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/program.html">MongoDB Package Components</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.html"><code class="docutils literal"><span class="pre">mongod</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.html"><code class="docutils literal"><span class="pre">mongos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongo.html">Legacy <code class="docutils literal"><span class="pre">mongo</span></code> Shell</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongod.exe.html"><code class="docutils literal"><span class="pre">mongod.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongos.exe.html"><code class="docutils literal"><span class="pre">mongos.exe</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongoldap.html"><code class="docutils literal"><span class="pre">mongoldap</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/mongokerberos.html"><code class="docutils literal"><span class="pre">mongokerberos</span></code></a></li><li class="toctree-l3"><a class="reference internal" href="../reference/program/install_compass.html"><code class="docutils literal"><span class="pre">install_compass</span></code></a></li><li class="toctree-l3"><a class="reference external" href="https://www.mongodb.com/docs/database-tools/">MongoDB Database Tools</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/configuration-options.html">Configuration File Options</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/expansion-directives.html">Externally Sourced Configuration File Values</a></li><li class="toctree-l3"><a class="reference internal" href="../tutorial/convert-command-line-options-to-yaml.html">Convert Command-Line Options to YAML</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/configuration-file-settings-command-line-options-mapping.html">Configuration File Settings and Command-Line Options Mapping</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/parameters.html">MongoDB Server Parameters</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/cluster-parameters.html">MongoDB Cluster Parameters</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/limits.html">MongoDB Limits and Thresholds</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/explain-results.html">Explain Results</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/system-collections.html">System Collections</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/connection-string.html">Connection String URI Format</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/collation.html">Collation</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/collation-locales-defaults.html">Collation Locales and Default Parameters</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-wire-protocol.html">MongoDB Wire Protocol</a><ul><li class="toctree-l3"><a class="reference internal" href="../legacy-opcodes.html">Legacy Opcodes</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../reference/log-messages.html">Log Messages</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/exit-codes.html">Exit Codes and Statuses</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/default-mongodb-port.html">Default MongoDB Port</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/mongodb-defaults.html">Default MongoDB Read Concerns/Write Concerns</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/server-sessions.html">Server Sessions</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/stable-api.html">Stable API</a><ul><li class="toctree-l3"><a class="reference internal" href="../reference/stable-api-reference.html">Migrate to a Later API Version</a></li><li class="toctree-l3"><a class="reference internal" href="../reference/stable-api-changelog.html">Stable API Changelog</a></li></ul></li></ul></li><li class="toctree-l1 current"><a class="reference internal" href="../release-notes.html">Release Notes</a><ul class="current"><li class="toctree-l2"><a class="reference internal" href="6.0.html">Release Notes for MongoDB 6.0 (Release Candidate)</a><ul><li class="toctree-l3"><a class="reference internal" href="6.0-compatibility.html">Compatibility Changes in MongoDB 6.0 (Release Candidate)</a></li><li class="toctree-l3"><a class="reference internal" href="6.0-downgrade.html">Downgrade 6.0 to 5.0</a><ul><li class="toctree-l4"><a class="reference internal" href="6.0-downgrade-standalone.html">Downgrade 6.0 Standalone to 5.0</a></li><li class="toctree-l4"><a class="reference internal" href="6.0-downgrade-replica-set.html">Downgrade 6.0 Replica Set to 5.0</a></li><li class="toctree-l4"><a class="reference internal" href="6.0-downgrade-sharded-cluster.html">Downgrade 6.0 Sharded Cluster to 5.0</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="6.0-upgrade.html">Upgrade 5.0 to 6.0</a><ul><li class="toctree-l4"><a class="reference internal" href="6.0-upgrade-standalone.html">Upgrade a Standalone to 6.0</a></li><li class="toctree-l4"><a class="reference internal" href="6.0-upgrade-replica-set.html">Upgrade a Replica Set to 6.0</a></li><li class="toctree-l4"><a class="reference internal" href="6.0-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 6.0</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="5.3.html">Release Notes for MongoDB 5.3</a><ul><li class="toctree-l3"><a class="reference internal" href="5.3-compatibility.html">Compatibility Changes in MongoDB 5.3</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="5.2.html">Release Notes for MongoDB 5.2</a><ul><li class="toctree-l3"><a class="reference internal" href="5.2-compatibility.html">Compatibility Changes in MongoDB 5.2</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="5.1.html">Release Notes for MongoDB 5.1</a><ul><li class="toctree-l3"><a class="reference internal" href="5.1-compatibility.html">Compatibility Changes in MongoDB 5.1</a></li><li class="toctree-l3"><a class="reference internal" href="5.1-changelog.html">5.1 Changelog</a></li></ul></li><li class="toctree-l2 current"><a class="reference internal current" href="">Release Notes for MongoDB 5.0</a><ul><li class="toctree-l3"><a class="reference internal" href="5.0-compatibility.html">Compatibility Changes in MongoDB 5.0</a></li><li class="toctree-l3"><a class="reference internal" href="5.0-upgrade-standalone.html">Upgrade a Standalone to 5.0</a></li><li class="toctree-l3"><a class="reference internal" href="5.0-upgrade-replica-set.html">Upgrade a Replica Set to 5.0</a></li><li class="toctree-l3"><a class="reference internal" href="5.0-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 5.0</a></li><li class="toctree-l3"><a class="reference internal" href="5.0-downgrade.html">Downgrade 5.0 to 4.4</a><ul><li class="toctree-l4"><a class="reference internal" href="5.0-downgrade-standalone.html">Downgrade 5.0 Standalone to 4.4</a></li><li class="toctree-l4"><a class="reference internal" href="5.0-downgrade-replica-set.html">Downgrade 5.0 Replica Set to 4.4</a></li><li class="toctree-l4"><a class="reference internal" href="5.0-downgrade-sharded-cluster.html">Downgrade 5.0 Sharded Cluster to 4.4</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="5.0-changelog.html">5.0 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="4.4.html">Release Notes for MongoDB 4.4</a><ul><li class="toctree-l3"><a class="reference internal" href="4.4-compatibility.html">Compatibility Changes in MongoDB 4.4</a></li><li class="toctree-l3"><a class="reference internal" href="4.4-upgrade-standalone.html">Upgrade a Standalone to 4.4</a></li><li class="toctree-l3"><a class="reference internal" href="4.4-upgrade-replica-set.html">Upgrade a Replica Set to 4.4</a></li><li class="toctree-l3"><a class="reference internal" href="4.4-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.4</a></li><li class="toctree-l3"><a class="reference internal" href="4.4-downgrade.html">Downgrade 4.4 to 4.2</a><ul><li class="toctree-l4"><a class="reference internal" href="4.4-downgrade-standalone.html">Downgrade 4.4 Standalone to 4.2</a></li><li class="toctree-l4"><a class="reference internal" href="4.4-downgrade-replica-set.html">Downgrade 4.4 Replica Set to 4.2</a></li><li class="toctree-l4"><a class="reference internal" href="4.4-downgrade-sharded-cluster.html">Downgrade 4.4 Sharded Cluster to 4.2</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="4.4-changelog.html">4.4 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="4.2.html">Release Notes for MongoDB 4.2</a><ul><li class="toctree-l3"><a class="reference internal" href="4.2-compatibility.html">Compatibility Changes in MongoDB 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-standalone.html">Upgrade a Standalone to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-replica-set.html">Upgrade a Replica Set to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.2</a></li><li class="toctree-l3"><a class="reference internal" href="4.2-downgrade.html">Downgrade 4.2 to 4.0</a><ul><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-standalone.html">Downgrade 4.2 Standalone to 4.0</a></li><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-replica-set.html">Downgrade 4.2 Replica Set to 4.0</a></li><li class="toctree-l4"><a class="reference internal" href="4.2-downgrade-sharded-cluster.html">Downgrade 4.2 Sharded Cluster to 4.0</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="4.2-changelog.html">4.2 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="4.0.html">Release Notes for MongoDB 4.0</a><ul><li class="toctree-l3"><a class="reference internal" href="4.0-compatibility.html">Compatibility Changes in MongoDB 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-standalone.html">Upgrade a Standalone to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-replica-set.html">Upgrade a Replica Set to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 4.0</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-standalone.html">Downgrade 4.0 Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-replica-set.html">Downgrade 4.0 Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-downgrade-sharded-cluster.html">Downgrade 4.0 Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="4.0-changelog.html">4.0 Changelog</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.6.html">Release Notes for MongoDB 3.6</a><ul><li class="toctree-l3"><a class="reference internal" href="3.6-changelog.html">3.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-compatibility.html">Compatibility Changes in MongoDB 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-standalone.html">Upgrade a Standalone to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-replica-set.html">Upgrade a Replica Set to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.6</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-standalone.html">Downgrade 3.6 Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-replica-set.html">Downgrade 3.6 Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.6-downgrade-sharded-cluster.html">Downgrade 3.6 Sharded Cluster to 3.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.4.html">Release Notes for MongoDB 3.4</a><ul><li class="toctree-l3"><a class="reference internal" href="3.4-changelog.html">3.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-compatibility.html">Compatibility Changes in MongoDB 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-standalone.html">Upgrade a Standalone to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-replica-set.html">Upgrade a Replica Set to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-upgrade-sharded-cluster.html">Upgrade a Sharded Cluster to 3.4</a></li><li class="toctree-l3"><a class="reference internal" href="3.4-downgrade.html">Downgrade MongoDB 3.4 to 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-standalone.html">Downgrade 3.4 Standalone to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-replica-set.html">Downgrade 3.4 Replica Set to 3.2</a></li><li class="toctree-l4"><a class="reference internal" href="3.4-downgrade-sharded-cluster.html">Downgrade 3.4 Sharded Cluster to 3.2</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.2.html">Release Notes for MongoDB 3.2</a><ul><li class="toctree-l3"><a class="reference internal" href="3.2-changelog.html">3.2 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-compatibility.html">Compatibility Changes in MongoDB 3.2</a><ul><li class="toctree-l4"><a class="reference internal" href="3.2-javascript.html">JavaScript Changes in MongoDB 3.2</a></li></ul></li><li class="toctree-l3"><a class="reference internal" href="3.2-upgrade.html">Upgrade MongoDB to 3.2</a></li><li class="toctree-l3"><a class="reference internal" href="3.2-downgrade.html">Downgrade MongoDB from 3.2</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="3.0.html">Release Notes for MongoDB 3.0</a><ul><li class="toctree-l3"><a class="reference internal" href="3.0-changelog.html">3.0 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-compatibility.html">Compatibility Changes in MongoDB 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-upgrade.html">Upgrade MongoDB to 3.0</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-scram.html">Upgrade to SCRAM</a></li><li class="toctree-l3"><a class="reference internal" href="3.0-downgrade.html">Downgrade MongoDB from 3.0</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.6.html">Release Notes for MongoDB 2.6</a><ul><li class="toctree-l3"><a class="reference internal" href="2.6-changelog.html">2.6 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-compatibility.html">Compatibility Changes in MongoDB 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade.html">Upgrade MongoDB to 2.6</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-upgrade-authorization.html">Upgrade User Authorization Data to 2.6 Format</a></li><li class="toctree-l3"><a class="reference internal" href="2.6-downgrade.html">Downgrade MongoDB from 2.6</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.4.html">Release Notes for MongoDB 2.4</a><ul><li class="toctree-l3"><a class="reference internal" href="2.4-changelog.html">2.4 Changelog</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-javascript.html">JavaScript Changes in MongoDB 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-upgrade.html">Upgrade MongoDB to 2.4</a></li><li class="toctree-l3"><a class="reference internal" href="2.4-index-types.html">Compatibility and Index Type Changes in MongoDB 2.4</a></li></ul></li><li class="toctree-l2"><a class="reference internal" href="2.2.html">Release Notes for MongoDB 2.2</a></li><li class="toctree-l2"><a class="reference internal" href="2.0.html">Release Notes for MongoDB 2.0</a></li><li class="toctree-l2"><a class="reference internal" href="1.8.html">Release Notes for MongoDB 1.8</a></li><li class="toctree-l2"><a class="reference internal" href="1.6.html">Release Notes for MongoDB 1.6</a></li><li class="toctree-l2"><a class="reference internal" href="1.4.html">Release Notes for MongoDB 1.4</a></li><li class="toctree-l2"><a class="reference internal" href="1.2.html">Release Notes for MongoDB 1.2.x</a></li><li class="toctree-l2"><a class="reference internal" href="../reference/versioning.html">MongoDB Versioning</a></li></ul></li><li class="toctree-l1"><a class="reference internal" href="../support.html">Technical Support</a></li></ul>


    </div>
  </div>
           
         </aside>

   </div>

    <div id="main-column" class="main-column">

    <span id="showNav" class="showNav">Navigation</span>

      
      
        <div class="document">
            <div class="documentwrapper"><div class="bodywrapper">
              <div class="body" data-pagename="release-notes/5.0">
                   <a class="edit-link" href="https://github.com/mongodb/docs/blob/master/source/release-notes/5.0.txt" target="_blank" title="Edit release-notes/5.0.txt on GitHub">
    
      <span class="icon-edit"></span>
    
  </a>
                

                
  <div class="bc">
    
      <ul>
          <li><a href="../release-notes.html">Release Notes</a><span class="bcpoint"> > </span></li>
            <li>Release Notes for MongoDB 5.0</li> 
      </ul>
    
    
  </div>
                
                  <div class="section" id="release-notes-for-mongodb-5-0">
<h1>Release Notes for MongoDB 5.0<a class="headerlink" href="#release-notes-for-mongodb-5-0" title="Permalink to this headline"></a></h1>
<div class="contents twocols local topic" id="on-this-page">
<p class="topic-title first">On this page</p>
<ul class="simple">
<li><a class="reference internal" href="#patch-releases" id="id15">Patch Releases</a></li>
<li><a class="reference internal" href="#time-series-collections" id="id16">Time Series Collections</a></li>
<li><a class="reference internal" href="#aggregation" id="id17">Aggregation</a></li>
<li><a class="reference internal" href="#auditing" id="id18">Auditing</a></li>
<li><a class="reference internal" href="#change-streams" id="id19">Change Streams</a></li>
<li><a class="reference internal" href="#indexes" id="id20">Indexes</a></li>
<li><a class="reference internal" href="#removed-commands" id="id21">Removed Commands</a></li>
<li><a class="reference internal" href="#replica-sets" id="id22">Replica Sets</a></li>
<li><a class="reference internal" href="#security" id="id23">Security</a></li>
<li><a class="reference internal" href="#sharded-clusters" id="id24">Sharded Clusters</a></li>
<li><a class="reference internal" href="#shell-changes" id="id25">Shell Changes</a></li>
<li><a class="reference internal" href="#snapshots" id="id26">Snapshots</a></li>
<li><a class="reference internal" href="#transactions" id="id27">Transactions</a></li>
<li><a class="reference internal" href="#naming-changes" id="id28">Naming Changes</a></li>
<li><a class="reference internal" href="#general-improvements" id="id29">General Improvements</a></li>
<li><a class="reference internal" href="#platform-support" id="id30">Platform Support</a></li>
<li><a class="reference internal" href="#changes-affecting-compatibility" id="id31">Changes Affecting Compatibility</a></li>
<li><a class="reference internal" href="#upgrade-procedures" id="id32">Upgrade Procedures</a></li>
<li><a class="reference internal" href="#download" id="id33">Download</a></li>
<li><a class="reference internal" href="#known-issue-backup-resharding" id="id34">Known Issues</a></li>
<li><a class="reference internal" href="#report-an-issue" id="id35">Report an Issue</a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">MongoDB 5.0 Released Jul 13, 2021</p>
</div>
<div class="section" id="patch-releases">
<h2>Patch Releases<a class="headerlink" href="#patch-releases" title="Permalink to this headline"></a></h2>
<div class="section" id="may-31-2022">
<span id="release-notes"></span><h3>5.0.9 - May 31, 2022<a class="headerlink" href="#may-31-2022" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65636">SERVER-65636</a>  Remove limits on number of LDAP connections
per host</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-65137">SERVER-65137</a> Detect namespace changes when refreshing
Collection after yielding</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64822">SERVER-64822</a>  Sharding an empty collection releases the
critical section too early</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62175">SERVER-62175</a>  Mongos fails to attach RetryableWrite Error
Label For Command Interrupted In _parseCommand</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-9096">WT-9096</a> Fix search near returning wrong key/value sometimes
when key doesnt exist</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.9">All JIRA issues closed in 5.0.9</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id1"><span class="std std-ref">5.0.9 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="april-25-2022">
<span id="id1"></span><h3>5.0.8 - April 25, 2022<a class="headerlink" href="#april-25-2022" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63531">SERVER-63531</a> commitQuorum incorrectly includes
buildIndexes:false nodes and error message incorrectly says that only
voting nodes are eligible</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63387">SERVER-63387</a> 1 StreamingCursor should return backup blocks in
the order they were retrieved from the WiredTiger backup cursor</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62229">SERVER-62229</a> Fix invariant when applying index build entries
while recoverFromOplogAsStandalone=true</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61879">SERVER-61879</a> Refreshes to recover migrations must never join
ongoing refreshes</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-8924">WT-8924</a> Dont check against on disk time window if there is
an insert list when checking for conflicts in row-store</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.8">All JIRA issues closed in 5.0.8</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id3"><span class="std std-ref">5.0.8 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="april-11-2022">
<span id="id2"></span><h3>5.0.7 - April 11, 2022<a class="headerlink" href="#april-11-2022" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64517">SERVER-64517</a> RecoverableCriticalSection is not properly
recovered on startup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-64403">SERVER-64403</a> Find queries with SORT_MERGE collation-encode
the missing sort attribute</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-63742">SERVER-63742</a> Default topology time in shard can lead to
infinite refresh in shard registry</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60412">SERVER-60412</a> Host memory limit check does not honor cgroups
v2</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7922">WT-7922</a> Handle missing WiredTiger version file</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.7">All JIRA issues closed in 5.0.7</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id8"><span class="std std-ref">5.0.7 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="january-31-2022">
<span id="id3"></span><h3>5.0.6 - January 31, 2022<a class="headerlink" href="#january-31-2022" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-8395">WT-8395</a> Inconsistent data after upgrade from 4.4.3 and 4.4.4 to 4.4.8+ and 5.0.2+</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-62245">SERVER-62245</a> MigrationRecovery must not assume that only one migration needs to be recovered</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61427">SERVER-61427</a> Unique index builds can cause a loss of availability during commit due to checking many false duplicates</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61194">SERVER-61194</a> Prevent time-series bucket OID reuse with coarse granularity</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60310">SERVER-60310</a> OCSP response validation should not consider statuses of irrelevant certificates</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.6">All JIRA issues closed in 5.0.6</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id13"><span class="std std-ref">5.0.6 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="december-6-2021">
<span id="id4"></span><h3>5.0.5 - December 6, 2021<a class="headerlink" href="#december-6-2021" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-61483">SERVER-61483</a> Resharding coordinator fails to recover abort
decision on step-up, attempts to commit operation as success, leading
to data inconsistency</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59858">SERVER-59858</a> Add observability for tasks scheduled on the
reactor thread</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-51329">SERVER-51329</a> Unexpected non-retryable error when shutting
down a mongos server</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-8163">WT-8163</a> Consider more eviction scenarios to give up
checkpoint-cleanup</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7912">WT-7912</a> Fix prefix search near optimisation to handle
scenarios where the key range is split across pages.</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.5">All JIRA issues closed in 5.0.5</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id20"><span class="std std-ref">5.0.5 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="nov-15-2021">
<span id="id5"></span><h3>5.0.4 - Nov 15, 2021<a class="headerlink" href="#nov-15-2021" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-60326">SERVER-60326</a> Windows Server fails to start when X509
certificate has empty subject name</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59876">SERVER-59876</a> Large delays in returning from libcrypto.so
while establishing egress connections</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59456">SERVER-59456</a> Start the LDAPReaper threadpool</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59226">SERVER-59226</a> Deadlock when stepping down with a profile
session marked as uninterruptible</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-59074">SERVER-59074</a> Do not acquire storage tickets just to set/wait
on oplog visibility</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2C%20TOOLS%2C%20WT)%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%205.0.4">All JIRA issues closed in 5.0.4</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id26"><span class="std std-ref">5.0.4 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="sep-21-2021">
<span id="id6"></span><h3>5.0.3 - Sep 21, 2021<a class="headerlink" href="#sep-21-2021" title="Permalink to this headline"></a></h3>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57667">SERVER-57667</a>: Improve processing speed for reshardings
collection cloning pipeline</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57630">SERVER-57630</a>: Enable SSL_OP_NO_RENEGOTIATION on Ubuntu 18.04
when running against OpenSSL 1.1.1</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-8005">WT-8005</a>: Fix a prepare commit bug that could leave the
history store entry unresolved</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7995">WT-7995</a>: Fix the global visibility that it cannot go beyond
checkpoint visibility</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-7984">WT-7984</a>: Fix a bug that could cause a checkpoint to omit a
page of data</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.3%27">All JIRA issues closed in 5.0.3</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id35"><span class="std std-ref">5.0.3 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="aug-4-2021">
<span id="id7"></span><h3>5.0.2 - Aug 4, 2021<a class="headerlink" href="#aug-4-2021" title="Permalink to this headline"></a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">MongoDB version 5.0.2 is not recommended for production use due to
critical issues <a class="reference external" href="https://jira.mongodb.org/browse/WT-7984">WT-7984</a> and <a class="reference external" href="https://jira.mongodb.org/browse/WT-7995">WT-7995</a>, fixed in later
versions. Use the latest available patch release version.</p>
</div>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58936">SERVER-58936</a>: Unique index constraints may not be enforced</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-57756">SERVER-57756</a>: Race between concurrent stepdowns and applying
transaction oplog entry</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-54729">SERVER-54729</a>: MongoDB Enterprise Debian/Ubuntu packages
should depend on libsasl2-modules and libsasl2-modules-gssapi-mit</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-47372">SERVER-47372</a>: config.cache collections can remain even after
collection has been dropped</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/WT-6729">WT-6729</a>: Quiesce eviction prior running rollback to stables
active transaction check</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.2%27">All JIRA issues closed in 5.0.2</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id43"><span class="std std-ref">5.0.2 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="jul-22-2021">
<span id="id8"></span><h3>5.0.1 - Jul 22, 2021<a class="headerlink" href="#jul-22-2021" title="Permalink to this headline"></a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">MongoDB version 5.0.1 is not recommended for production use due to
critical issues <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58936">SERVER-58936</a>, <a class="reference external" href="https://jira.mongodb.org/browse/WT-7984">WT-7984</a>, and
<a class="reference external" href="https://jira.mongodb.org/browse/WT-7995">WT-7995</a>, fixed in later versions. Use the latest
available patch release version.</p>
</div>
<p>Issues fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58489">SERVER-58489</a>: Collection creation stuck in an infinite
writeConflictRetry loop when having a duplicate name as a view</li>
<li><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58171">SERVER-58171</a>: Changing time-series granularity does not
update view definition</li>
<li><a class="reference external" href="https://jira.mongodb.org/issues/?jql=project%20in%20(SERVER%2CTOOLS%2CWT)%20AND%20resolution%3D%27Fixed%27%20and%20fixversion%3D%275.0.1%27">All JIRA issues closed in 5.0.1</a></li>
<li><a class="reference internal" href="5.0-changelog.html#id53"><span class="std std-ref">5.0.1 Changelog</span></a></li>
</ul>
</div>
<div class="section" id="jul-13-2021">
<h3>5.0.0 - Jul 13, 2021<a class="headerlink" href="#jul-13-2021" title="Permalink to this headline"></a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">MongoDB version 5.0.0 is not recommended for production use due to
critical issues <a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58936">SERVER-58936</a>, <a class="reference external" href="https://jira.mongodb.org/browse/WT-7984">WT-7984</a>, and
<a class="reference external" href="https://jira.mongodb.org/browse/WT-7995">WT-7995</a>, fixed in later versions. Use the latest
available patch release version.</p>
</div>
<p>The rest of this page provides the 5.0.0 release notes:</p>
</div>
</div>
<div class="section" id="time-series-collections">
<span id="rel-notes-agg"></span><h2>Time Series Collections<a class="headerlink" href="#time-series-collections" title="Permalink to this headline"></a></h2>
<p>MongoDB 5.0 introduces <a class="reference internal" href="../core/timeseries-collections.html#manual-timeseries-collection"><span class="std std-ref">time series collections</span></a> which efficiently store sequences of
measurements over a period of time. Compared to normal collections,
storing time series data in time series collections improves query
efficiency and reduces disk usage for your data and indexes.</p>
</div>
<div class="section" id="aggregation">
<h2>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline"></a></h2>
<div class="section" id="new-aggregation-operators">
<span id="rel-notes-new-agg-operators"></span><h3>New Aggregation Operators<a class="headerlink" href="#new-aggregation-operators" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the following aggregation operators:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="../reference/operator/aggregation/count-accumulator.html#grp._S_count" title="$count"><code class="xref mongodb mongodb-group docutils literal"><span class="pre">$count</span></code></a></td>
<td><p class="first"><a class="reference internal" href="../reference/operator/aggregation/count-accumulator.html#grp._S_count" title="$count"><code class="xref mongodb mongodb-group docutils literal"><span class="pre">$count</span> <span class="pre">(aggregation</span> <span class="pre">accumulator)</span></code></a>
provides a count of all documents when used in the existing
pipeline <a class="reference internal" href="../reference/operator/aggregation/group.html#pipe._S_group" title="$group"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$group</span> <span class="pre">(aggregation)</span></code></a> stage and the
new MongoDB 5.0 <a class="reference internal" href="../reference/operator/aggregation/setWindowFields.html#pipe._S_setWindowFields" title="$setWindowFields"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$setWindowFields</span></code></a> stage.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p>Disambiguation</p>
<p class="last">The <a class="reference internal" href="../reference/operator/aggregation/count-accumulator.html#grp._S_count" title="$count"><code class="xref mongodb mongodb-group docutils literal"><span class="pre">$count</span> <span class="pre">(aggregation</span> <span class="pre">accumulator)</span></code></a> is
distinct from the <a class="reference internal" href="../reference/operator/aggregation/count.html#pipe._S_count" title="$count"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$count</span> <span class="pre">(aggregation)</span></code></a>
pipeline stage.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/operator/aggregation/dateAdd.html#exp._S_dateAdd" title="$dateAdd"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$dateAdd</span></code></a></td>
<td>Increments a <a class="reference internal" href="../reference/method/Date.html"><span class="doc">Date</span></a> object by a
specified number of time units.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/operator/aggregation/dateDiff.html#exp._S_dateDiff" title="$dateDiff"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$dateDiff</span></code></a></td>
<td>Returns the difference between two dates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/operator/aggregation/dateSubtract.html#exp._S_dateSubtract" title="$dateSubtract"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$dateSubtract</span></code></a></td>
<td>Decrements a <a class="reference internal" href="../reference/method/Date.html"><span class="doc">Date</span></a> object by a
specified number of time units.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/operator/aggregation/dateTrunc.html#exp._S_dateTrunc" title="$dateTrunc"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$dateTrunc</span></code></a></td>
<td>Truncates a date.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/operator/aggregation/getField.html#exp._S_getField" title="$getField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$getField</span></code></a></td>
<td>Returns the value of a specified field from a document.
You can use <a class="reference internal" href="../reference/operator/aggregation/getField.html#exp._S_getField" title="$getField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$getField</span></code></a> to retrieve the value of
fields with names that contain periods (<code class="docutils literal"><span class="pre">.</span></code>) or start
with dollar signs (<code class="docutils literal"><span class="pre">$</span></code>).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/operator/aggregation/rand.html#exp._S_rand" title="$rand"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$rand</span></code></a></td>
<td>The <a class="reference internal" href="../reference/operator/aggregation/rand.html#exp._S_rand" title="$rand"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$rand</span></code></a> method generates a random float value
between 0 and 1 each time it is called. The new
<a class="reference internal" href="../reference/operator/aggregation/sampleRate.html#exp._S_sampleRate" title="$sampleRate"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$sampleRate</span></code></a> operator is based on <code class="docutils literal"><span class="pre">$rand</span></code>. (Also
added to MongoDB 4.4.2)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/operator/aggregation/sampleRate.html#exp._S_sampleRate" title="$sampleRate"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$sampleRate</span></code></a></td>
<td>Adds the <a class="reference internal" href="../reference/operator/aggregation/sampleRate.html#exp._S_sampleRate" title="$sampleRate"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$sampleRate</span></code></a> method to probabilistically
select documents from a pipeline at a given rate.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/operator/aggregation/setField.html#exp._S_setField" title="$setField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$setField</span></code></a></td>
<td>Adds, updates, or removes a specified field in a document.
You can use <a class="reference internal" href="../reference/operator/aggregation/setField.html#exp._S_setField" title="$setField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$setField</span></code></a> to add, update,
or remove fields with names that contain periods (<code class="docutils literal"><span class="pre">.</span></code>) or
start with dollar signs (<code class="docutils literal"><span class="pre">$</span></code>).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/operator/aggregation/unsetField.html#exp._S_unsetField" title="$unsetField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$unsetField</span></code></a></td>
<td>Removes a specified field in a document. An alias for
<a class="reference internal" href="../reference/operator/aggregation/setField.html#exp._S_setField" title="$setField"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$setField</span></code></a> to remove fields with names that contain
periods (<code class="docutils literal"><span class="pre">.</span></code>) or that start with dollar signs (<code class="docutils literal"><span class="pre">$</span></code>).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="window-operators">
<h3>Window Operators<a class="headerlink" href="#window-operators" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the <a class="reference internal" href="../reference/operator/aggregation/setWindowFields.html#pipe._S_setWindowFields" title="$setWindowFields"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$setWindowFields</span></code></a> pipeline stage,
allowing you to perform operations on a specified span of documents in a
collection, known as a <em>window</em>. The operation returns the results based
on the chosen <a class="reference internal" href="../reference/operator/aggregation/setWindowFields.html#setwindowfields-window-operators"><span class="std std-ref">window operator</span></a>.</p>
<p>For example, you can use the <a class="reference internal" href="../reference/operator/aggregation/setWindowFields.html#pipe._S_setWindowFields" title="$setWindowFields"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$setWindowFields</span></code></a> stage to
output the:</p>
<ul class="simple">
<li>Difference in sales between two documents in a collection.</li>
<li>Sales rankings.</li>
<li>Cumulative sales totals.</li>
<li>Analysis of complex time series information without exporting the
data to an external database.</li>
</ul>
</div>
<div class="section" id="general-aggregation-improvements">
<h3>General Aggregation Improvements<a class="headerlink" href="#general-aggregation-improvements" title="Permalink to this headline"></a></h3>
<div class="section" id="expr-operator-comparison-operators-use-indexes">
<h4><code class="docutils literal"><span class="pre">$expr</span></code> Operator: Comparison Operators Use Indexes<a class="headerlink" href="#expr-operator-comparison-operators-use-indexes" title="Permalink to this headline"></a></h4>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/operator/aggregation/eq.html#exp._S_eq" title="$eq"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$eq</span></code></a>, <a class="reference internal" href="../reference/operator/aggregation/lt.html#exp._S_lt" title="$lt"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$lt</span></code></a>,
<a class="reference internal" href="../reference/operator/aggregation/lte.html#exp._S_lte" title="$lte"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$lte</span></code></a>, <a class="reference internal" href="../reference/operator/aggregation/gt.html#exp._S_gt" title="$gt"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$gt</span></code></a>, and <a class="reference internal" href="../reference/operator/aggregation/gte.html#exp._S_gte" title="$gte"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$gte</span></code></a> operators
placed in an <a class="reference internal" href="../reference/operator/query/expr.html#op._S_expr" title="$expr"><code class="xref mongodb mongodb-query docutils literal"><span class="pre">$expr</span></code></a> operator can use indexes to improve performance.</p>
</div>
<div class="section" id="ifnull-expression-accepts-multiple-input-expressions">
<h4><code class="docutils literal"><span class="pre">$ifNull</span></code> Expression Accepts Multiple Input Expressions<a class="headerlink" href="#ifnull-expression-accepts-multiple-input-expressions" title="Permalink to this headline"></a></h4>
<p>Starting in MongoDB 5.0, you can specify multiple input expressions for
the <a class="reference internal" href="../reference/operator/aggregation/ifNull.html#exp._S_ifNull" title="$ifNull"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$ifNull</span></code></a> expression before returning a replacement
expression.</p>
</div>
<div class="section" id="let-option-for-aggregation">
<h4><code class="docutils literal"><span class="pre">let</span></code> Option for Aggregation<a class="headerlink" href="#let-option-for-aggregation" title="Permalink to this headline"></a></h4>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a> command and
<a class="reference internal" href="../reference/method/db.collection.aggregate.html#db.collection.aggregate" title="db.collection.aggregate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.aggregate()</span></code></a> helper method have a <code class="docutils literal"><span class="pre">let</span></code> option
to specify a list of variables that can be used elsewhere in the
aggregation pipeline. This allows you to improve command readability by
separating the variables from the query text.</p>
</div>
<div class="section" id="lookup-stage-concise-correlated-subqueries">
<h4><code class="docutils literal"><span class="pre">$lookup</span></code> Stage: Concise Correlated Subqueries<a class="headerlink" href="#lookup-stage-concise-correlated-subqueries" title="Permalink to this headline"></a></h4>
<p>Starting in MongoDB 5.0, an aggregation pipeline <a class="reference internal" href="../reference/operator/aggregation/lookup.html#pipe._S_lookup" title="$lookup"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$lookup</span></code></a>
stage supports <a class="reference internal" href="../reference/operator/aggregation/lookup.html#lookup-syntax-concise-correlated-subquery"><span class="std std-ref">concise correlated subqueries</span></a> that improve joins between
collections.</p>
</div>
<div class="section" id="lookup-stage-uncorrelated-subqueries">
<h4><code class="docutils literal"><span class="pre">$lookup</span></code> Stage: Uncorrelated Subqueries<a class="headerlink" href="#lookup-stage-uncorrelated-subqueries" title="Permalink to this headline"></a></h4>
<p>Starting in MongoDB 5.0, for an uncorrelated subquery in a
<a class="reference internal" href="../reference/operator/aggregation/lookup.html#pipe._S_lookup" title="$lookup"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$lookup</span></code></a> pipeline stage containing a <a class="reference internal" href="../reference/operator/aggregation/sample.html#pipe._S_sample" title="$sample"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$sample</span></code></a>
stage, the <a class="reference internal" href="../reference/operator/aggregation/sampleRate.html#exp._S_sampleRate" title="$sampleRate"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$sampleRate</span></code></a> operator, or the
<a class="reference internal" href="../reference/operator/aggregation/rand.html#exp._S_rand" title="$rand"><code class="xref mongodb mongodb-expression docutils literal"><span class="pre">$rand</span></code></a> operator, the subquery is always run again if
repeated. Previously, depending on the subquery output size, either the
subquery output was cached or the subquery was run again.</p>
<p>See <a class="reference internal" href="../reference/operator/aggregation/lookup.html#lookup-uncorrelated-subquery"><span class="std std-ref">Perform an Uncorrelated Subquery with $lookup</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="auditing">
<span id="rel-notes-auditing"></span><h2>Auditing<a class="headerlink" href="#auditing" title="Permalink to this headline"></a></h2>
<div class="section" id="runtime-audit-filter-configuration">
<h3>Runtime Audit Filter Configuration<a class="headerlink" href="#runtime-audit-filter-configuration" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 adds the ability to <a class="reference internal" href="../tutorial/configure-audit-filters.html#configure-audit-filters-at-runtime"><span class="std std-ref">configure auditing filters</span></a> at runtime.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="../reference/parameters.html#param.auditConfigPollingFrequencySecs" title="auditConfigPollingFrequencySecs"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">auditConfigPollingFrequencySecs</span></code></a></td>
<td>Defines the polling interval for checking audit configuration</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/command/getAuditConfig.html#dbcmd.getAuditConfig" title="getAuditConfig"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">getAuditConfig</span></code></a></td>
<td>Retrieves audit configurations from <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> and
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/command/setAuditConfig.html#dbcmd.setAuditConfig" title="setAuditConfig"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">setAuditConfig</span></code></a></td>
<td>Sets new audit configurations for <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> and
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code> instances at runtime.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="general-auditing-updates">
<h3>General Auditing Updates<a class="headerlink" href="#general-auditing-updates" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/audit-message.html#audit-message-format"><span class="std std-ref">System event auditing</span></a> has:<ul>
<li>An additional <a class="reference internal" href="../reference/audit-message.html#audit-message-uuid"><span class="std std-ref">uuid</span></a> field and other
<a class="reference internal" href="../reference/audit-message.html#audit-message-format"><span class="std std-ref">audit message</span></a> enhancements.</li>
<li>New audit message types: <a class="reference internal" href="../reference/audit-message.html#audit-message-clientmetadata"><span class="std std-ref">clientMetadata</span></a>, <a class="reference internal" href="../reference/audit-message.html#audit-message-directauthmutation"><span class="std std-ref">directAuthMutation</span></a>, <a class="reference internal" href="../reference/audit-message.html#audit-message-logout"><span class="std std-ref">logout</span></a>, and <a class="reference internal" href="../reference/audit-message.html#audit-message-startup"><span class="std std-ref">startup</span></a>.</li>
<li>Additional information and logging scenarios for these existing
audit message types: <a class="reference internal" href="../reference/audit-message.html#audit-message-authcheck"><span class="std std-ref">authCheck</span></a>,
<a class="reference internal" href="../reference/audit-message.html#audit-message-authenticate"><span class="std std-ref">authenticate</span></a>,
<a class="reference internal" href="../reference/audit-message.html#audit-message-createcollection"><span class="std std-ref">createCollection</span></a>,
<a class="reference internal" href="../reference/audit-message.html#audit-message-createindex"><span class="std std-ref">createIndex</span></a>, and
<a class="reference internal" href="../reference/audit-message.html#audit-message-dropcollection"><span class="std std-ref">dropCollection</span></a>.</li>
</ul>
</li>
<li>DDL operations auditing on <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondaries</span></a> has
changes. See <a class="reference internal" href="../core/auditing.html#auditing-audit-events-and-filter"><span class="std std-ref">Audit Events and Filter</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="change-streams">
<span id="rel-notes-change-streams"></span><h2>Change Streams<a class="headerlink" href="#change-streams" title="Permalink to this headline"></a></h2>
<div class="section" id="change-events-output">
<h3>Change Events Output<a class="headerlink" href="#change-events-output" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <a class="reference internal" href="../reference/change-events.html#change-events"><span class="std std-ref">Change Events</span></a>
contain the field <code class="docutils literal"><span class="pre">updateDescription.truncatedArrays</span></code> to record array
truncations.</p>
</div>
</div>
<div class="section" id="indexes">
<span id="rel-notes-indexes"></span><h2>Indexes<a class="headerlink" href="#indexes" title="Permalink to this headline"></a></h2>
<div class="section" id="partial-indexes-behavior-change">
<h3>Partial Indexes Behavior Change<a class="headerlink" href="#partial-indexes-behavior-change" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, multiple
<a class="reference internal" href="../core/index-partial.html"><span class="doc">partial indexes</span></a>
can be created using the same <a class="reference internal" href="../reference/method/db.collection.createIndexes.html#key-patterns"><span class="std std-ref">key pattern</span></a> as long
as the <a class="reference internal" href="../reference/method/db.collection.createIndexes.html#partialfilterexpression"><span class="std std-ref">partialFilterExpression</span></a>
fields do not express equivalent filters.</p>
<p>In earlier versions of MongoDB, creating multiple
<a class="reference internal" href="../core/index-partial.html"><span class="doc">partial indexes</span></a> is not allowed when
using the same key pattern with different
<a class="reference internal" href="../reference/method/db.collection.createIndexes.html#partialfilterexpression"><span class="std std-ref">partialFilterExpressions</span></a>.</p>
</div>
<div class="section" id="unique-sparse-index-behavior-change">
<h3>Unique Sparse Index Behavior Change<a class="headerlink" href="#unique-sparse-index-behavior-change" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <a class="reference internal" href="../core/index-sparse.html#sparse-unique-index"><span class="std std-ref">unique sparse</span></a>
and <a class="reference internal" href="../indexes.html#unique-index"><span class="std std-ref">unique non-sparse</span></a> indexes with the same
<a class="reference internal" href="../reference/method/db.collection.createIndexes.html#key-patterns"><span class="std std-ref">key pattern</span></a> can exist on a single collection.</p>
<p>See <a class="reference internal" href="../core/index-sparse.html#sparse-and-non-sparse-example"><span class="std std-ref">unique sparse index creation</span></a></p>
</div>
<div class="section" id="cannot-drop-ready-indexes-during-in-progress-index-builds">
<h3>Cannot Drop <code class="docutils literal"><span class="pre">Ready</span></code> Indexes During In-Progress Index Builds<a class="headerlink" href="#cannot-drop-ready-indexes-during-in-progress-index-builds" title="Permalink to this headline"></a></h3>
<p>The <a class="reference internal" href="../reference/method/db.collection.dropIndexes.html#db.collection.dropIndexes" title="db.collection.dropIndexes()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.dropIndexes()</span></code></a> command cannot drop
<a class="reference internal" href="../core/index-creation.html#index-build-process-ready"><span class="std std-ref">ready indexes</span></a>
if there are any in-progress index builds.</p>
<ul class="simple">
<li>In versions 4.4.0-4.4.4 of MongoDB, this logic was not true
due to a bug.</li>
</ul>
</div>
<div class="section" id="foreground-validation-may-fix-multikey-metadata-inconsistencies">
<h3>Foreground Validation May Fix Multikey Metadata Inconsistencies<a class="headerlink" href="#foreground-validation-may-fix-multikey-metadata-inconsistencies" title="Permalink to this headline"></a></h3>
<p>When run on a MongoDB deployment,
<a class="reference internal" href="../reference/method/db.collection.validate.html#db.collection.validate" title="db.collection.validate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.validate()</span></code></a> attempts to fix
<a class="reference internal" href="../reference/method/db.collection.validate.html#validate-standalone-inconsistencies"><span class="std std-ref">multikey metadata inconsistencies</span></a>
of standalone deployments.</p>
</div>
<div class="section" id="removal-of-geohaystack-index-and-the-geosearch-command">
<h3>Removal of <code class="docutils literal"><span class="pre">geoHaystack</span></code> Index and the <code class="docutils literal"><span class="pre">geoSearch</span></code> Command<a class="headerlink" href="#removal-of-geohaystack-index-and-the-geosearch-command" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 removes the deprecated <a class="reference internal" href="../core/geohaystack.html"><span class="doc">geoHaystack</span></a> index and <a class="reference internal" href="../reference/command/geoSearch.html#dbcmd.geoSearch" title="geoSearch"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">geoSearch</span></code></a> command. Use a
<a class="reference internal" href="../core/2d.html"><span class="doc">2d index</span></a> with <a class="reference internal" href="../reference/operator/aggregation/geoNear.html#pipe._S_geoNear" title="$geoNear"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$geoNear</span></code></a> or one of the
supported <a class="reference internal" href="../reference/operator/query-geospatial.html#geospatial-query-selectors"><span class="std std-ref">geospatial query operators</span></a>
instead.</p>
<p>Upgrading your MongoDB instance to 5.0 and setting
<a class="reference internal" href="../reference/command/setFeatureCompatibilityVersion.html#view-fcv"><span class="std std-ref">featureCompatibilityVersion</span></a> to <code class="docutils literal"><span class="pre">5.0</span></code> will delete any
pre-existing <a class="reference internal" href="../core/geohaystack.html"><span class="doc">geoHaystack</span></a> indexes.</p>
</div>
<div class="section" id="new-error-messages">
<h3>New Error Messages<a class="headerlink" href="#new-error-messages" title="Permalink to this headline"></a></h3>
<p>The <a class="reference internal" href="../reference/method/db.collection.createIndex.html#db.collection.createIndex" title="db.collection.createIndex()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.createIndex()</span></code></a> and <a class="reference internal" href="../reference/method/db.collection.createIndexes.html#db.collection.createIndexes" title="db.collection.createIndexes()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.createIndexes()</span></code></a>
operations have new error messages when options are specified incorrectly.</p>
</div>
<div class="section" id="interrupted-index-builds">
<h3>Interrupted Index Builds<a class="headerlink" href="#interrupted-index-builds" title="Permalink to this headline"></a></h3>
<p>If a node in a replica set is cleanly shutdown or rolls back during an
index build, the index build progress is now
<a class="reference internal" href="../core/index-creation.html#index-operations-build-failure"><span class="std std-ref">saved to disk</span></a>. When the server
restarts, index creation resumes from the saved position.</p>
</div>
<div class="section" id="reindex-behavior-change">
<h3><code class="docutils literal"><span class="pre">reIndex</span></code> Behavior Change<a class="headerlink" href="#reindex-behavior-change" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/reIndex.html#dbcmd.reIndex" title="reIndex"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">reIndex</span></code></a> command and the
<a class="reference internal" href="../reference/method/db.collection.reIndex.html#db.collection.reIndex" title="db.collection.reIndex()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.reIndex()</span></code></a> shell method may only be run on
<a class="reference internal" href="../reference/glossary.html#term-standalone"><span class="xref std std-term">standalone</span></a> instances.</p>
</div>
</div>
<div class="section" id="removed-commands">
<span id="rel-notes-removed-commands"></span><h2>Removed Commands<a class="headerlink" href="#removed-commands" title="Permalink to this headline"></a></h2>
<p>Starting in MongoDB 5.0, these database commands and
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code> shell helper methods are removed:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Removed Command</th>
<th class="head">Alternative</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="../reference/method/db.collection.ensureIndex.html#db.collection.ensureIndex" title="db.collection.ensureIndex()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.ensureIndex()</span></code></a></td>
<td><a class="reference internal" href="../reference/method/db.collection.createIndex.html#db.collection.createIndex" title="db.collection.createIndex()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.createIndex()</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/method/db.resetError.html#db.resetError" title="db.resetError()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.resetError()</span></code></a></td>
<td>Not available</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/command/resetError.html#dbcmd.resetError" title="resetError"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">resetError</span></code></a></td>
<td>Not available</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/command/shardConnPoolStats.html#dbcmd.shardConnPoolStats" title="shardConnPoolStats"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">shardConnPoolStats</span></code></a></td>
<td><a class="reference internal" href="../reference/command/connPoolStats.html#dbcmd.connPoolStats" title="connPoolStats"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">connPoolStats</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../reference/command/unsetSharding.html#dbcmd.unsetSharding" title="unsetSharding"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">unsetSharding</span></code></a></td>
<td>Not available</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../reference/command/geoSearch.html#dbcmd.geoSearch" title="geoSearch"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">geoSearch</span></code></a></td>
<td><a class="reference internal" href="../reference/operator/aggregation/geoNear.html#pipe._S_geoNear" title="$geoNear"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$geoNear</span></code></a> or one of the supported
<a class="reference internal" href="../reference/operator/query-geospatial.html#geospatial-query-selectors"><span class="std std-ref">geospatial query operators</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="replica-sets">
<span id="rel-notes-repl-sets"></span><h2>Replica Sets<a class="headerlink" href="#replica-sets" title="Permalink to this headline"></a></h2>
<div class="section" id="non-transactional-reads-on-config-transactions">
<h3>Non-transactional Reads on <code class="docutils literal"><span class="pre">config.transactions</span></code><a class="headerlink" href="#non-transactional-reads-on-config-transactions" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, non-transaction reads are not allowed on
the <a class="reference internal" href="../reference/config-database.html#config.transactions" title="config.transactions"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">config.transactions</span></code></a> collection with the following
read concerns and options:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/read-concern-snapshot.html#readconcern.&quot;snapshot&quot;" title="&quot;snapshot&quot;"><code class="xref mongodb mongodb-readconcern docutils literal"><span class="pre">&quot;snapshot&quot;</span></code></a></li>
<li><a class="reference internal" href="../reference/read-concern-majority.html#readconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-readconcern docutils literal"><span class="pre">&quot;majority&quot;</span></code></a> and the
<a class="reference internal" href="../reference/read-concern.html#afterclustertime"><span class="std std-ref">afterClusterTime</span></a> option is set</li>
<li>When using a <a href="#id9"><span class="problematic" id="id10">:driver:`MongoDB Driver &lt;/&gt;`</span></a>
and <a class="reference internal" href="../reference/read-concern-majority.html#readconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-readconcern docutils literal"><span class="pre">&quot;majority&quot;</span></code></a>
within a <a class="reference internal" href="../core/read-isolation-consistency-recency.html#sessions"><span class="std std-ref">causally consistent session</span></a></li>
</ul>
</div>
<div class="section" id="hello-command">
<h3><code class="docutils literal"><span class="pre">hello</span></code> Command<a class="headerlink" href="#hello-command" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (and 4.4.2, 4.2.10, 4.0.21, and 3.6.21), the
<a class="reference internal" href="../reference/command/hello.html#dbcmd.hello" title="hello"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">hello</span></code></a> command and the <a class="reference internal" href="../reference/method/db.hello.html#db.hello" title="db.hello()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.hello()</span></code></a> method were
introduced as replacements for the <code class="docutils literal"><span class="pre">isMaster</span></code> command
and the <code class="docutils literal"><span class="pre">db.isMaster()</span></code> method. The new topology metric
<a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.connections.exhaustHello" title="connections.exhaustHello"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">connections.exhaustHello</span></code></a> tracks this in
<a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.connections" title="connections"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">connections</span></code></a>.</p>
</div>
<div class="section" id="quiesce-period">
<h3>Quiesce Period<a class="headerlink" href="#quiesce-period" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> and <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code>
enter a <a class="reference internal" href="../reference/command/shutdown.html#shutdown-cmd-quiesce-period"><span class="std std-ref">quiesce period</span></a> to allow any
ongoing database operations to complete before shutting down.</p>
</div>
<div class="section" id="limit-removed-for-members-n-id-values">
<h3>Limit Removed for <code class="docutils literal"><span class="pre">members[n]._id</span></code> Values<a class="headerlink" href="#limit-removed-for-members-n-id-values" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/replica-configuration.html#rsconf.members[n]._id" title="members[n]._id"><code class="xref mongodb mongodb-rsconf docutils literal"><span class="pre">members[n]._id</span></code></a> field may be any
integer value greater than or equal to <code class="docutils literal"><span class="pre">0</span></code>. Previously, this value was
limited to an integer between <code class="docutils literal"><span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">255</span></code> inclusive.</p>
</div>
<div class="section" id="enablemajorityreadconcern-is-not-configurable">
<h3><code class="docutils literal"><span class="pre">enableMajorityReadConcern</span></code> Is Not Configurable<a class="headerlink" href="#enablemajorityreadconcern-is-not-configurable" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0,
<a class="reference internal" href="../reference/configuration-options.html#replication.enableMajorityReadConcern" title="replication.enableMajorityReadConcern"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">enableMajorityReadConcern</span></code></a> and
<code class="xref std std-option docutils literal"><span class="pre">--enableMajorityReadConcern</span></code> cannot be changed
and are always set to <code class="docutils literal"><span class="pre">true</span></code> due to storage engine improvements.</p>
<p>In earlier versions of MongoDB,
<a class="reference internal" href="../reference/configuration-options.html#replication.enableMajorityReadConcern" title="replication.enableMajorityReadConcern"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">enableMajorityReadConcern</span></code></a> and
<code class="xref std std-option docutils literal"><span class="pre">--enableMajorityReadConcern</span></code> are configurable and can be set
to <code class="docutils literal"><span class="pre">false</span></code> to prevent storage cache pressure from immobilizing a
deployment with a three-member primary-secondary-arbiter (PSA)
architecture.</p>
<p>If you are using a three-member primary-secondary-arbiter (PSA)
architecture, consider the following:</p>
<ul class="simple">
<li>The write concern <a class="reference internal" href="../reference/write-concern.html#writeconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-writeconcern docutils literal"><span class="pre">&quot;majority&quot;</span></code></a> can cause
performance issues if a secondary is unavailable or lagging. For
advice on how to mitigate these issues, see
<a class="reference internal" href="../tutorial/mitigate-psa-performance-issues.html#performance-issues-psa"><span class="std std-ref">Mitigate Performance Issues with PSA Replica Set</span></a>.</li>
<li>If you are using a global default <a class="reference internal" href="../reference/read-concern-majority.html#readconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-readconcern docutils literal"><span class="pre">&quot;majority&quot;</span></code></a>
and the write concern is less than the size of the majority,
your queries may return stale (not fully replicated) data.</li>
</ul>
</div>
<div class="section" id="enhanced-thread-pool-timeout-control">
<h3>Enhanced Thread Pool Timeout Control<a class="headerlink" href="#enhanced-thread-pool-timeout-control" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can use the new
<a class="reference internal" href="../reference/parameters.html#param.replWriterMinThreadCount" title="replWriterMinThreadCount"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">replWriterMinThreadCount</span></code></a> server parameter to configure the
timeout of idle threads in the thread pool for parallel execution of
replication operations. When <a class="reference internal" href="../reference/parameters.html#param.replWriterMinThreadCount" title="replWriterMinThreadCount"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">replWriterMinThreadCount</span></code></a> is
configured with a value less than <a class="reference internal" href="../reference/parameters.html#param.replWriterThreadCount" title="replWriterThreadCount"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">replWriterThreadCount</span></code></a>,
idle threads above <a class="reference internal" href="../reference/parameters.html#param.replWriterMinThreadCount" title="replWriterMinThreadCount"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">replWriterMinThreadCount</span></code></a> are timed out.</p>
</div>
<div class="section" id="reconfiguring-psa-replica-sets">
<h3>Reconfiguring PSA Replica Sets<a class="headerlink" href="#reconfiguring-psa-replica-sets" title="Permalink to this headline"></a></h3>
<p>When reconfiguring primary-secondary-arbiter (PSA) replica sets or
changing to a PSA architecture, it is now in some cases required to
perform the reconfiguration in a two-step change. MongoDB 5.0 introduces
the <a class="reference internal" href="../reference/method/rs.reconfigForPSASet.html#rs.reconfigForPSASet" title="rs.reconfigForPSASet()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfigForPSASet()</span></code></a> method which performs both steps.
If you cannot use the helper method, follow the procedure in
<a class="reference internal" href="../tutorial/modify-psa-replica-set-safely.html#modify-psa-replica-set-safely"><span class="std std-ref">Modify PSA Replica Set Safely</span></a>.</p>
</div>
<div class="section" id="limit-sync-source-re-evaluations">
<h3>Limit Sync Source Re-evaluations<a class="headerlink" href="#limit-sync-source-re-evaluations" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="../reference/parameters.html#param.maxNumSyncSourceChangesPerHour" title="maxNumSyncSourceChangesPerHour"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">maxNumSyncSourceChangesPerHour</span></code></a> determines how many sync
source changes can happen per hour before the node temporarily stops
re-evaluating a sync source. This parameter will not prevent a node
from starting to sync from another node if it doesnt have a sync
source.</p>
</div>
<div class="section" id="enableoverrideclusterchainingsetting-server-parameter">
<h3><code class="docutils literal"><span class="pre">enableOverrideClusterChainingSetting</span></code> Server Parameter<a class="headerlink" href="#enableoverrideclusterchainingsetting-server-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0.2 (and 4.2.16 and 4.4.8), you can set the new
<a class="reference internal" href="../reference/parameters.html#param.enableOverrideClusterChainingSetting" title="enableOverrideClusterChainingSetting"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">enableOverrideClusterChainingSetting</span></code></a> server parameter to
<code class="docutils literal"><span class="pre">true</span></code> to allow <a class="reference internal" href="../reference/glossary.html#term-secondary"><span class="xref std std-term">secondary</span></a> members to replicate data from other
secondary members even if <a class="reference internal" href="../reference/replica-configuration.html#rsconf.settings.chainingAllowed" title="settings.chainingAllowed"><code class="xref mongodb mongodb-rsconf docutils literal"><span class="pre">settings.chainingAllowed</span></code></a> is
<code class="docutils literal"><span class="pre">false</span></code>.</p>
</div>
</div>
<div class="section" id="security">
<span id="rel-notes-security"></span><h2>Security<a class="headerlink" href="#security" title="Permalink to this headline"></a></h2>
<div class="section" id="support-for-online-certificate-rotation">
<h3>Support for Online Certificate Rotation<a class="headerlink" href="#support-for-online-certificate-rotation" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you may now rotate the following TLS
certificates on demand without first needing to stop your running
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> or <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code> instance:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/configuration-options.html#net.tls.certificateKeyFile" title="net.tls.certificateKeyFile"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">TLS</span> <span class="pre">Certificates</span></code></a></li>
<li><a class="reference internal" href="../reference/configuration-options.html#net.tls.CRLFile" title="net.tls.CRLFile"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">CRL</span> <span class="pre">(Certificate</span> <span class="pre">Revocation</span> <span class="pre">List)</span> <span class="pre">files</span></code></a>
(on Linux and Windows platforms)</li>
<li><a class="reference internal" href="../reference/configuration-options.html#net.tls.CAFile" title="net.tls.CAFile"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">CA</span> <span class="pre">(Certificate</span> <span class="pre">Authority)</span> <span class="pre">files</span></code></a></li>
</ul>
<p>To rotate these certificates, replace the certificate files on your
filesystem with updated versions, then use the
<a class="reference internal" href="../reference/command/rotateCertificates.html#dbcmd.rotateCertificates" title="rotateCertificates"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">rotateCertificates</span></code></a> command or the
<a class="reference internal" href="../reference/method/db.rotateCertificates.html#db.rotateCertificates" title="db.rotateCertificates()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.rotateCertificates()</span></code></a> shell method to trigger certificate
rotation.</p>
<p>Rotating certificates in this manner does not require downtime, and does
not drop any active remote connections.</p>
<p>See <a class="reference internal" href="../tutorial/configure-ssl.html#certificate-rotation"><span class="std std-ref">Online Certificate Rotation</span></a> for full details.</p>
</div>
<div class="section" id="support-for-configuring-tls-1-3-cipher-suites">
<h3>Support for Configuring TLS 1.3 Cipher Suites<a class="headerlink" href="#support-for-configuring-tls-1-3-cipher-suites" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the <a class="reference internal" href="../reference/parameters.html#param.opensslCipherSuiteConfig" title="opensslCipherSuiteConfig"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">opensslCipherSuiteConfig</span></code></a>
parameter to enable configuration of the supported cipher suites OpenSSL
should permit when using TLS 1.3 encryption.</p>
</div>
<div class="section" id="tls-connection-x509-certificate-startup-warning">
<h3>TLS Connection X509 Certificate Startup Warning<a class="headerlink" href="#tls-connection-x509-certificate-startup-warning" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> and <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code> now
issue a startup warning when their certificates do not include a
<a class="reference internal" href="../reference/glossary.html#term-subject-alternative-name"><span class="xref std std-term">Subject Alternative Name</span></a> attribute.</p>
<p>The following platforms do not support common name validation:</p>
<ul class="simple">
<li>iOS 13 and higher</li>
<li>MacOS 10.15 and higher</li>
<li>Go 1.15 and higher</li>
</ul>
<p>Clients using these platforms will not
<a class="reference internal" href="../tutorial/configure-x509-client-authentication.html#x509-client-authentication"><span class="std std-ref">authenticate</span></a> to
MongoDB servers that use x.509 certificates whose hostnames are
<a class="reference internal" href="../reference/program/mongod.html#kmip-subject-alternative-name-cn"><span class="std std-ref">specified by CommonName attributes</span></a>.</p>
</div>
<div class="section" id="applyops-privilege-action">
<span id="rel-notes-sharded-clusters"></span><h3>ApplyOps Privilege Action<a class="headerlink" href="#applyops-privilege-action" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the <a class="reference internal" href="../reference/privilege-actions.html#applyOps" title="applyOps"><code class="xref mongodb mongodb-authaction docutils literal"><span class="pre">applyOps</span></code></a>
privilege action which is inherited by <a class="reference internal" href="../reference/built-in-roles.html#dbAdminAnyDatabase" title="dbAdminAnyDatabase"><code class="xref mongodb mongodb-authrole docutils literal"><span class="pre">dbAdminAnyDatabase</span></code></a>.</p>
<p>The <a class="reference internal" href="../reference/privilege-actions.html#applyOps" title="applyOps"><code class="xref mongodb mongodb-authaction docutils literal"><span class="pre">applyOps</span></code></a> action permits users to run the
<a class="reference internal" href="../reference/command/applyOps.html#dbcmd.applyOps" title="applyOps"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">applyOps</span></code></a> database command.</p>
</div>
</div>
<div class="section" id="sharded-clusters">
<h2>Sharded Clusters<a class="headerlink" href="#sharded-clusters" title="Permalink to this headline"></a></h2>
<div class="section" id="resharding">
<h3>Resharding<a class="headerlink" href="#resharding" title="Permalink to this headline"></a></h3>
<p>The ideal shard key allows MongoDB to distribute documents evenly
throughout the cluster while facilitating common query patterns. A
suboptimal shard key can lead to performance or scaling issues due to
uneven data distribution. Starting in MongoDB 5.0, you can use the
<a class="reference internal" href="../reference/command/reshardCollection.html#dbcmd.reshardCollection" title="reshardCollection"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">reshardCollection</span></code></a> command to <a class="reference internal" href="../core/sharding-change-a-shard-key.html#change-a-shard-key"><span class="std std-ref">change the shard key</span></a> for a collection to change the distribution of
your data across your cluster.</p>
</div>
<div class="section" id="currentop-reports-ongoing-resharding-operations">
<h3><code class="docutils literal"><span class="pre">currentOp</span></code> Reports Ongoing Resharding Operations<a class="headerlink" href="#currentop-reports-ongoing-resharding-operations" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/operator/aggregation/currentOp.html#pipe._S_currentOp" title="$currentOp"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$currentOp</span></code></a> aggregation stage
(and the <a class="reference internal" href="../reference/command/currentOp.html#dbcmd.currentOp" title="currentOp"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">currentOp</span></code></a> command and <a class="reference internal" href="../reference/method/db.currentOp.html#db.currentOp" title="db.currentOp()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></code></a>
shell method) include additional information about the status of ongoing
resharding operations for the resharding coordinator and the
donor and recipient shards.</p>
</div>
<div class="section" id="db-currentop-method-now-uses-aggregation-stage-in-mongosh">
<h3><code class="docutils literal"><span class="pre">db.currentOp</span></code> Method Now Uses Aggregation Stage in <code class="docutils literal"><span class="pre">mongosh</span></code><a class="headerlink" href="#db-currentop-method-now-uses-aggregation-stage-in-mongosh" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/operator/aggregation/currentOp.html#pipe._S_currentOp" title="$currentOp"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$currentOp</span></code></a> aggregation
stage is used when running the helper method <a class="reference internal" href="../reference/method/db.currentOp.html#db.currentOp" title="db.currentOp()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></code></a>
with <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongosh</span></code>.</p>
</div>
<div class="section" id="mongos-mongod-connection-pool">
<h3><code class="docutils literal"><span class="pre">mongos</span></code> / <code class="docutils literal"><span class="pre">mongod</span></code> Connection Pool<a class="headerlink" href="#mongos-mongod-connection-pool" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (also available starting in 4.4.5 and 4.2.13),
MongoDB adds the parameter option <code class="docutils literal"><span class="pre">&quot;automatic&quot;</span></code> as the new default for
the <a class="reference internal" href="../reference/parameters.html#param.ShardingTaskExecutorPoolReplicaSetMatching" title="ShardingTaskExecutorPoolReplicaSetMatching"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">ShardingTaskExecutorPoolReplicaSetMatching</span></code></a>. When set
for a <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code>, the instance follows the behavior specified
for the <code class="docutils literal"><span class="pre">&quot;matchPrimaryNode&quot;</span></code> option. When set for a
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code>, the instance follows the behavior specified for
the <code class="docutils literal"><span class="pre">&quot;disabled&quot;</span></code> option.</p>
</div>
<div class="section" id="renamecollection-compatible-with-sharded-collections">
<h3><code class="docutils literal"><span class="pre">renameCollection</span></code> Compatible with Sharded Collections<a class="headerlink" href="#renamecollection-compatible-with-sharded-collections" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can use the <a class="reference internal" href="../reference/command/renameCollection.html#dbcmd.renameCollection" title="renameCollection"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">renameCollection</span></code></a>
command to change the name of a sharded collection.</p>
<p>When renaming a sharded or unsharded collection in a sharded cluster,
the source and target collections are exclusively locked on every shard.
Subsequent operations on the source and target collections must wait
until the rename operation completes.</p>
</div>
<div class="section" id="moveprimary-error-message-for-writes-during-operation">
<h3><code class="docutils literal"><span class="pre">movePrimary</span></code> Error Message For Writes During Operation<a class="headerlink" href="#moveprimary-error-message-for-writes-during-operation" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, when using the <a class="reference internal" href="../reference/command/movePrimary.html#dbcmd.movePrimary" title="movePrimary"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">movePrimary</span></code></a> command
to remove a shard from a <a class="reference internal" href="../sharding.html#sharded-cluster"><span class="std std-ref">sharded cluster</span></a>,
writes to the original shard will generate an error message.</p>
</div>
<div class="section" id="split-and-merge-chunk-changelogs-show-owning-shard">
<h3>Split and Merge Chunk Changelogs Show Owning Shard<a class="headerlink" href="#split-and-merge-chunk-changelogs-show-owning-shard" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, documents in the <a class="reference internal" href="../reference/config-database.html#config.changelog" title="config.changelog"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">config.changelog</span></code></a>
collection for
<a class="reference external" href="https://docs.mongodb.com/manual/tutorial/split-chunks-in-sharded-cluster/">split</a> and
<a class="reference external" href="https://docs.mongodb.com/manual/tutorial/merge-chunks-in-sharded-cluster/">merge</a> operations
contain an <code class="docutils literal"><span class="pre">owningShard</span></code> field. The <code class="docutils literal"><span class="pre">owningShard</span></code> field shows the
<code class="docutils literal"><span class="pre">shardId</span></code> of the shard that owns the chunks that were split or
merged.</p>
<p>The <code class="docutils literal"><span class="pre">owningShard</span></code> field helps identify shards where split or merge
operations frequently occur.</p>
</div>
<div class="section" id="maxcatchuppercentagebeforeblockingwrites-server-parameter">
<h3><code class="docutils literal"><span class="pre">maxCatchUpPercentageBeforeBlockingWrites</span></code> Server Parameter<a class="headerlink" href="#maxcatchuppercentagebeforeblockingwrites-server-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (and 4.4.7, 4.2.15, 4.0.26), you can set the
<a class="reference internal" href="../reference/parameters.html#param.maxCatchUpPercentageBeforeBlockingWrites" title="maxCatchUpPercentageBeforeBlockingWrites"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">maxCatchUpPercentageBeforeBlockingWrites</span></code></a> to specify the
maximum allowed percentage of data not yet migrated
during a <a class="reference internal" href="../reference/command/moveChunk.html#dbcmd.moveChunk" title="moveChunk"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">moveChunk</span></code></a> operation when compared to the
total size (in MBs) of the chunk being transferred.</p>
<p>This parameter can affect the behavior of:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/command/moveChunk.html#dbcmd.moveChunk" title="moveChunk"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">moveChunk</span></code></a> commands that are run manually.</li>
<li>Load balancer functionality, which automatically runs multiple
<a class="reference internal" href="../reference/command/moveChunk.html#dbcmd.moveChunk" title="moveChunk"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">moveChunk</span></code></a> commands to evenly distribute chunks across
shards. See <a class="reference internal" href="../core/sharding-balancer-administration.html#sharding-balancing"><span class="std std-ref">Sharded Cluster Balancer</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="shell-changes">
<span id="rel-notes-shell"></span><h2>Shell Changes<a class="headerlink" href="#shell-changes" title="Permalink to this headline"></a></h2>
<div class="section" id="new-mongodb-shell-mongosh">
<h3>New MongoDB Shell: <code class="docutils literal"><span class="pre">mongosh</span></code><a class="headerlink" href="#new-mongodb-shell-mongosh" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal"><span class="pre">mongo</span></code> shell has been deprecated in MongoDB v5.0. The
replacement shell is <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongosh</span></code>. The legacy <code class="docutils literal"><span class="pre">mongo</span></code> shell
will be removed in a future release.</p>
<p>Shell packaging also changes in MongoDB v5.0. Refer to the
<a class="reference external" href="https://docs.mongodb.com/mongodb-shell/install">installation instructions</a> for further details.</p>
</div>
<div class="section" id="shell-support-for-gcp-and-azure-kms-providers">
<h3>Shell Support for GCP and Azure KMS Providers<a class="headerlink" href="#shell-support-for-gcp-and-azure-kms-providers" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (and MongoDB 4.4.5), the Google Cloud Platform
KMS and Azure Key Vault are supported in both <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongosh</span></code>
and the legacy <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongo</span></code> shell as
<a class="reference internal" href="../core/csfle/reference/kms-providers.html#field-level-encryption-kms"><span class="std std-ref">Key Management Service (KMS)</span></a>
providers for <span class="xref std std-ref">manual-csfle-feature</span>.</p>
<p>Using a KMS, you can centrally and securely store Customer Master Keys
(CMKs), which are used to encrypt and decrypt data encryption keys as
part of the <a class="reference internal" href="../core/csfle/reference/encryption-components.html#csfle-encryption-components"><span class="std std-ref">client-side field level encryption workflow</span></a>.</p>
<p>In addition, a configured KMS allows for the use of
<a class="reference internal" href="../core/csfle/reference/decryption.html#field-level-encryption-automatic-decryption"><span class="std std-ref">How CSFLE Decrypts Documents</span></a> of data fields when
used with MongoDB Enterprise.</p>
<p>To learn more, see <a class="reference external" href="https://docs.mongodb.com/mongodb-shell/field-level-encryption/">Configure a KMS provider using mongosh</a>.</p>
</div>
</div>
<div class="section" id="snapshots">
<span id="snapshot-reads"></span><h2>Snapshots<a class="headerlink" href="#snapshots" title="Permalink to this headline"></a></h2>
<div class="section" id="extended-support-for-read-concern-snapshot">
<h3>Extended Support for Read Concern <code class="docutils literal"><span class="pre">&quot;snapshot&quot;</span></code><a class="headerlink" href="#extended-support-for-read-concern-snapshot" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, read concern <a class="reference internal" href="../reference/read-concern-snapshot.html#readconcern.&quot;snapshot&quot;" title="&quot;snapshot&quot;"><code class="xref mongodb mongodb-readconcern docutils literal"><span class="pre">&quot;snapshot&quot;</span></code></a> is
supported for some read operations outside of multi-document
transactions on primaries and secondaries.</p>
</div>
<div class="section" id="minsnapshothistorywindowinseconds-server-parameter">
<h3><code class="docutils literal"><span class="pre">minSnapshotHistoryWindowInSeconds</span></code> Server Parameter<a class="headerlink" href="#minsnapshothistorywindowinseconds-server-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can use the
<a class="reference internal" href="../reference/parameters.html#param.minSnapshotHistoryWindowInSeconds" title="minSnapshotHistoryWindowInSeconds"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">minSnapshotHistoryWindowInSeconds</span></code></a> parameter to control how
long WiredTiger keeps the snapshot history.</p>
</div>
</div>
<div class="section" id="transactions">
<span id="rel-notes-transactions"></span><h2>Transactions<a class="headerlink" href="#transactions" title="Permalink to this headline"></a></h2>
<div class="section" id="coordinatecommitreturnimmediatelyafterpersistingdecision-parameter">
<h3><code class="docutils literal"><span class="pre">coordinateCommitReturnImmediatelyAfterPersistingDecision</span></code> Parameter<a class="headerlink" href="#coordinatecommitreturnimmediatelyafterpersistingdecision-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the new server parameter
<a class="reference internal" href="../reference/parameters.html#param.coordinateCommitReturnImmediatelyAfterPersistingDecision" title="coordinateCommitReturnImmediatelyAfterPersistingDecision"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">coordinateCommitReturnImmediatelyAfterPersistingDecision</span></code></a>
controls when transaction commit decisions are returned to the client.
In previous versions of MongoDB, the <a class="reference internal" href="../core/sharded-cluster-shards.html"><span class="doc">shard</span></a> transaction coordinator waited for all
members to acknowledge a <a class="reference internal" href="../core/transactions.html#transactions-atomicity"><span class="std std-ref">multi-document transaction</span></a> commit before returning the commit decision to
the client.</p>
</div>
</div>
<div class="section" id="naming-changes">
<h2>Naming Changes<a class="headerlink" href="#naming-changes" title="Permalink to this headline"></a></h2>
<p>Starting in February 2022, the Versioned API terminology was
changed to Stable API. All concepts and features remain the same
with this naming change.</p>
</div>
<div class="section" id="general-improvements">
<span id="rel-notes-general"></span><h2>General Improvements<a class="headerlink" href="#general-improvements" title="Permalink to this headline"></a></h2>
<div class="section" id="capped-collection-deletes-process-on-secondaries">
<h3>Capped Collection Deletes Process On Secondaries<a class="headerlink" href="#capped-collection-deletes-process-on-secondaries" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the
<a class="reference internal" href="../core/capped-collections.html#capped-collections-remove-documents"><span class="std std-ref">implicit delete operations</span></a>
of <a class="reference internal" href="../replication.html"><span class="doc">replica set</span></a>
<a class="reference internal" href="../reference/glossary.html#term-capped-collection"><span class="xref std std-term">capped collections</span></a> are processed by
the <a class="reference internal" href="../core/replica-set-secondary.html"><span class="doc">secondary members</span></a>.</p>
</div>
<div class="section" id="execution-plan-statistics-for-query-with-lookup-pipeline-stage">
<h3>Execution Plan Statistics for Query with <code class="docutils literal"><span class="pre">$lookup</span></code> Pipeline Stage<a class="headerlink" href="#execution-plan-statistics-for-query-with-lookup-pipeline-stage" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 adds <a class="reference internal" href="../reference/explain-results.html#explain-results-lookup"><span class="std std-ref">execution plan statistics</span></a> for queries that use a <a class="reference internal" href="../reference/operator/aggregation/lookup.html#pipe._S_lookup" title="$lookup"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$lookup</span></code></a>
pipeline stage.</p>
</div>
<div class="section" id="improved-handling-of-and-in-field-names">
<h3>Improved Handling of (<code class="docutils literal"><span class="pre">$</span></code>) and (<code class="docutils literal"><span class="pre">.</span></code>) in Field Names<a class="headerlink" href="#improved-handling-of-and-in-field-names" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 adds <a class="reference internal" href="../core/dot-dollar-considerations.html#crud-concepts-dot-dollar-considerations"><span class="std std-ref">improved support</span></a> for field names that are
(<code class="docutils literal"><span class="pre">$</span></code>) prefixed or that contain (<code class="docutils literal"><span class="pre">.</span></code>) characters. The validation
rules for storing data have been updated to make it easier to work with
data sources that use these characters.</p>
</div>
<div class="section" id="cluster-wide-default-write-concern">
<h3>Cluster Wide Default Write Concern<a class="headerlink" href="#cluster-wide-default-write-concern" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, once the Cluster Wide Write Concern (CWWC)
is set via the <a class="reference internal" href="../reference/command/setDefaultRWConcern.html#dbcmd.setDefaultRWConcern" title="setDefaultRWConcern"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">setDefaultRWConcern</span></code></a> command the write
concern cannot be unset.</p>
</div>
<div class="section" id="implicit-default-write-concern">
<h3>Implicit Default Write Concern<a class="headerlink" href="#implicit-default-write-concern" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the implicit default
<a class="reference internal" href="../reference/write-concern.html#write-concern"><span class="std std-ref">write concern</span></a> is
<a class="reference internal" href="../reference/write-concern.html#writeconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-writeconcern docutils literal"><span class="pre">w:</span> <span class="pre">majority</span></code></a>. However, special
considerations are made for deployments containing
<a class="reference internal" href="../core/replica-set-arbiter.html#replica-set-arbiter-configuration"><span class="std std-ref">arbiters</span></a>:</p>
<ul class="simple">
<li>The voting majority of a replica set is 1 plus half the number of
voting members, rounded down. If the number of data-bearing voting
members is not greater than the voting majority, the default write
concern is <code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">1</span> <span class="pre">}</span></code>.</li>
<li>In all other scenarios, the default write concern is <code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span>
<span class="pre">&quot;majority&quot;</span> <span class="pre">}</span></code>.</li>
</ul>
<p>Specifically, MongoDB uses the following formula to determine the
default write concern:</p>
<div class="button-code-block">
<div class="button-row">
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>if [ (#arbiters &gt; 0) AND (#non-arbiters &lt;= majority(#voting-nodes)) ]
    defaultWriteConcern = { w: 1 }
else
    defaultWriteConcern = { w: &quot;majority&quot; }
</pre></div>
</div>
</div>
<p>For example, consider the following deployments and their respective
default write concerns:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Non-Arbiters</th>
<th class="head">Arbiters</th>
<th class="head">Voting Nodes</th>
<th class="head">Majority of Voting Nodes</th>
<th class="head">Implicit Default Write Concern</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>2</td>
<td>1</td>
<td>3</td>
<td>2</td>
<td><code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">1</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td>4</td>
<td>1</td>
<td>5</td>
<td>3</td>
<td><code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">&quot;majority&quot;</span> <span class="pre">}</span></code></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>In the first example:<ul>
<li>There are 2 non-arbiters and 1 arbiter for a total of 3 voting
nodes.</li>
<li>The majority of voting nodes (1 plus half of 3, rounded
down) is 2.</li>
<li>The number of non-arbiters (2) is equal to
the majority of voting nodes (2), resulting in an implicit write
concern of <code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">1</span> <span class="pre">}</span></code>.</li>
</ul>
</li>
<li>In the second example:<ul>
<li>There are 4 non-arbiters and 1 arbiter for a total of 5
voting nodes.</li>
<li>The majority of voting nodes (1 plus half of 5, rounded
down) is 3.</li>
<li>The number of non-arbiters (4) is greater than the majority
of voting nodes (3), resulting in an implicit write concern of
<code class="docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">&quot;majority&quot;</span> <span class="pre">}</span></code>.</li>
</ul>
</li>
</ul>
<p>The <a class="reference internal" href="../reference/write-concern.html#writeconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-writeconcern docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">&quot;majority&quot;</span> <span class="pre">}</span></code></a> default
<a class="reference internal" href="../reference/write-concern.html"><span class="doc">write concern</span></a> provides a stronger
durability guarantee in the event of an election, or if replica set
members become unavailable.</p>
<p>The <a class="reference internal" href="../reference/write-concern.html#writeconcern.&quot;majority&quot;" title="&quot;majority&quot;"><code class="xref mongodb mongodb-writeconcern docutils literal"><span class="pre">{</span> <span class="pre">w:</span> <span class="pre">&quot;majority&quot;</span> <span class="pre">}</span></code></a> write concern may
impact performance since writes will only be acknowledged once a
<a class="reference internal" href="../reference/write-concern.html#calculating-majority-count"><span class="std std-ref">calculated majority</span></a> of replica set
members have executed and persisted the write to disk. If your
application relies on performance-sensitive writes, you can use the
<a class="reference internal" href="../reference/command/setDefaultRWConcern.html#dbcmd.setDefaultRWConcern" title="setDefaultRWConcern"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">setDefaultRWConcern</span></code></a> command to explicitly set the default
write concern for improved performance at the cost of data durability
guarantees. You can also set the write concern at the individual
operation level for performance-critical writes. See your
<a href="#id11"><span class="problematic" id="id12">:driver:`driver documentation &lt;/&gt;`</span></a> for details.</p>
</div>
<div class="section" id="mongosshutdowntimeoutmillisforsignaledshutdown-parameter">
<h3><code class="docutils literal"><span class="pre">mongosShutdownTimeoutMillisForSignaledShutdown</span></code> Parameter<a class="headerlink" href="#mongosshutdowntimeoutmillisforsignaledshutdown-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the new parameter
<a class="reference internal" href="../reference/parameters.html#param.mongosShutdownTimeoutMillisForSignaledShutdown" title="mongosShutdownTimeoutMillisForSignaledShutdown"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">mongosShutdownTimeoutMillisForSignaledShutdown</span></code></a> specifies
the time in milliseconds to wait for any ongoing database operations to
complete before initiating a shutdown of <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code>.</p>
</div>
<div class="section" id="configurable-zstd-compression-level">
<h3>Configurable <code class="docutils literal"><span class="pre">zstd</span></code> Compression Level<a class="headerlink" href="#configurable-zstd-compression-level" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the
<a class="reference internal" href="../reference/configuration-options.html#storage.wiredTiger.engineConfig.zstdCompressionLevel" title="storage.wiredTiger.engineConfig.zstdCompressionLevel"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">zstdCompressionLevel</span></code></a>
configuration file option which allows for configurable compression
levels when
<a class="reference internal" href="../reference/configuration-options.html#storage.wiredTiger.collectionConfig.blockCompressor" title="storage.wiredTiger.collectionConfig.blockCompressor"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">blockCompressor</span></code></a> is set
to <code class="docutils literal"><span class="pre">zstd</span></code>.</p>
</div>
<div class="section" id="lock-free-read-operations">
<h3>Lock-Free Read Operations<a class="headerlink" href="#lock-free-read-operations" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the following read operations are not blocked
when another operation holds an exclusive (X) write lock on the
collection:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/command/find.html#dbcmd.find" title="find"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">find</span></code></a></li>
<li><a class="reference internal" href="../reference/command/count.html#dbcmd.count" title="count"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">count</span></code></a></li>
<li><a class="reference internal" href="../reference/command/distinct.html#dbcmd.distinct" title="distinct"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">distinct</span></code></a></li>
<li><a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a></li>
<li><a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a></li>
<li><a class="reference internal" href="../reference/command/listCollections.html#dbcmd.listCollections" title="listCollections"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">listCollections</span></code></a></li>
<li><a class="reference internal" href="../reference/command/listIndexes.html#dbcmd.listIndexes" title="listIndexes"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">listIndexes</span></code></a></li>
</ul>
<p>When writing to a collection, <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a> and
<a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a> hold an intent exclusive (IX) lock. Therefore, if
an exclusive X lock is already held on a collection,
<a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></code></a> and <a class="reference internal" href="../reference/command/aggregate.html#dbcmd.aggregate" title="aggregate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">aggregate</span></code></a> write operations are
blocked.</p>
</div>
<div class="section" id="schema-validation-failures-explained">
<h3>Schema Validation Failures Explained<a class="headerlink" href="#schema-validation-failures-explained" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 adds detailed explanations when a document fails
<a class="reference internal" href="../core/schema-validation.html#schema-validation-overview"><span class="std std-ref">schema validation</span></a>.</p>
</div>
<div class="section" id="repair-option-in-validate-command">
<h3>Repair Option in <code class="docutils literal"><span class="pre">validate</span></code> Command<a class="headerlink" href="#repair-option-in-validate-command" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/validate.html#dbcmd.validate" title="validate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validate</span></code></a> command and
<a class="reference internal" href="../reference/method/db.collection.validate.html#db.collection.validate" title="db.collection.validate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.validate()</span></code></a> helper method have a new <a class="reference internal" href="../reference/command/validate.html#cmd-validate-repair"><span class="std std-ref">repair</span></a> option for repairing a collection that has
inconsistencies.</p>
<p>The <a class="reference internal" href="../reference/command/validate.html#dbcmd.validate" title="validate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validate</span></code></a> command and <a class="reference internal" href="../reference/method/db.collection.validate.html#db.collection.validate" title="db.collection.validate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.validate()</span></code></a>
helper method also return a new <a class="reference internal" href="../reference/command/validate.html#validate.repaired" title="validate.repaired"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">repaired</span></code></a> boolean value
that is <code class="docutils literal"><span class="pre">true</span></code> if the collection was repaired.</p>
</div>
<div class="section" id="validate-command-reports-document-schema-violations">
<h3><code class="docutils literal"><span class="pre">validate</span></code> Command Reports Document Schema Violations<a class="headerlink" href="#validate-command-reports-document-schema-violations" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <a class="reference internal" href="../reference/command/validate.html#dbcmd.validate" title="validate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validate</span></code></a> and
<a class="reference internal" href="../reference/method/db.collection.validate.html#db.collection.validate" title="db.collection.validate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.validate()</span></code></a> validates documents
in a collection. The commands report if any
<a class="reference internal" href="../core/schema-validation.html#schema-validation-document"><span class="std std-ref">schema validation rules</span></a> are
violated.</p>
</div>
<div class="section" id="repair-option-in-mongod">
<h3>Repair Option in <code class="docutils literal"><span class="pre">mongod</span></code><a class="headerlink" href="#repair-option-in-mongod" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-repair"><code class="xref std std-option docutils literal"><span class="pre">--repair</span></code></a> option
for <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> validates the collections to find any
inconsistencies and fixes them if possible, which avoids rebuilding the
indexes. See the <a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-repair"><code class="xref std std-option docutils literal"><span class="pre">--repair</span></code></a> option for usage
and limitations.</p>
</div>
<div class="section" id="corruptrecords-field-in-validation-output">
<h3><code class="docutils literal"><span class="pre">corruptRecords</span></code> Field in Validation Output<a class="headerlink" href="#corruptrecords-field-in-validation-output" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/validate.html#dbcmd.validate" title="validate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validate</span></code></a> command and
<a class="reference internal" href="../reference/method/db.collection.validate.html#db.collection.validate" title="db.collection.validate()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.validate()</span></code></a> helper method return a new
<a class="reference internal" href="../reference/command/validate.html#validate.corruptRecords" title="validate.corruptRecords"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">corruptRecords</span></code></a> field that contains an array of
<code class="docutils literal"><span class="pre">RecordId</span></code> values for corrupt documents.</p>
</div>
<div class="section" id="maxvalidatememoryusagemb-server-parameter">
<h3><code class="docutils literal"><span class="pre">maxValidateMemoryUsageMB</span></code> Server Parameter<a class="headerlink" href="#maxvalidatememoryusagemb-server-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/setParameter.html#dbcmd.setParameter" title="setParameter"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">setParameter</span></code></a> command has a new
<a class="reference internal" href="../reference/parameters.html#param.maxValidateMemoryUsageMB" title="maxValidateMemoryUsageMB"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">maxValidateMemoryUsageMB</span></code></a> parameter, which sets the maximum
memory usage for the <a class="reference internal" href="../reference/command/validate.html#dbcmd.validate" title="validate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validate</span></code></a> command.</p>
</div>
<div class="section" id="findchunksonconfigtimeoutms-server-parameter">
<h3><code class="docutils literal"><span class="pre">findChunksOnConfigTimeoutMS</span></code> Server Parameter<a class="headerlink" href="#findchunksonconfigtimeoutms-server-parameter" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can use the
<a class="reference internal" href="../reference/parameters.html#param.findChunksOnConfigTimeoutMS" title="findChunksOnConfigTimeoutMS"><code class="xref mongodb mongodb-parameter docutils literal"><span class="pre">findChunksOnConfigTimeoutMS</span></code></a> parameter to change the timeout
for find operations on <a class="reference internal" href="../reference/config-database.html#config.chunks" title="config.chunks"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">chunks</span></code></a>.</p>
</div>
<div class="section" id="database-profiler-filter-option">
<h3>Database Profiler <code class="docutils literal"><span class="pre">filter</span></code> Option<a class="headerlink" href="#database-profiler-filter-option" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can set a <code class="docutils literal"><span class="pre">filter</span></code> option for the
<a class="reference internal" href="../tutorial/manage-the-database-profiler.html#database-profiler"><span class="std std-ref">database profiler</span></a> to determine which
operations are profiled and logged. You can use the <code class="docutils literal"><span class="pre">filter</span></code>
expression in place of the <code class="docutils literal"><span class="pre">slowms</span></code> and <code class="docutils literal"><span class="pre">sampleRate</span></code> profiler
options.</p>
<p>See:</p>
<ul class="simple">
<li><a class="reference internal" href="../tutorial/manage-the-database-profiler.html#database-profiler"><span class="std std-ref">Database Profiler</span></a></li>
<li><a class="reference internal" href="../reference/method/db.setProfilingLevel.html#db.setProfilingLevel" title="db.setProfilingLevel()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.setProfilingLevel()</span></code></a></li>
<li><a class="reference internal" href="../reference/command/profile.html#dbcmd.profile" title="profile"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">profile</span></code></a></li>
</ul>
</div>
<div class="section" id="log-changes-to-database-profiler-settings">
<h3>Log Changes to Database Profiler Settings<a class="headerlink" href="#log-changes-to-database-profiler-settings" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (also available starting in 4.4.2, 4.2.12, and
4.0.22), changes made to the <a class="reference internal" href="../tutorial/manage-the-database-profiler.html#database-profiler"><span class="std std-ref">database profiler</span></a> <code class="docutils literal"><span class="pre">level</span></code>, <code class="docutils literal"><span class="pre">slowms</span></code>, <code class="docutils literal"><span class="pre">sampleRate</span></code>, or
<code class="docutils literal"><span class="pre">filter</span></code> using the <a class="reference internal" href="../reference/command/profile.html#dbcmd.profile" title="profile"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">profile</span></code></a> command or
<a class="reference internal" href="../reference/method/db.setProfilingLevel.html#db.setProfilingLevel" title="db.setProfilingLevel()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.setProfilingLevel()</span></code></a> wrapper method are recorded in the
<a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-logpath"><code class="xref std std-option docutils literal"><span class="pre">log</span> <span class="pre">file</span></code></a>.</p>
</div>
<div class="section" id="independent-log-rotation-for-server-and-audit-logs">
<h3>Independent Log Rotation for Server and Audit Logs<a class="headerlink" href="#independent-log-rotation-for-server-and-audit-logs" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, when <a class="reference internal" href="../core/auditing.html"><span class="doc">auditing</span></a> is
enabled, you may now rotate the server and audit logs
independently using the <a class="reference internal" href="../reference/command/logRotate.html#dbcmd.logRotate" title="logRotate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">logRotate</span></code></a> command.
Previously, <a class="reference internal" href="../reference/command/logRotate.html#dbcmd.logRotate" title="logRotate"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">logRotate</span></code></a> would rotate the two logs together.</p>
</div>
<div class="section" id="remote-field-in-slow-operation-logs">
<h3><code class="docutils literal"><span class="pre">remote</span></code> Field in Slow Operation Logs<a class="headerlink" href="#remote-field-in-slow-operation-logs" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <a class="reference internal" href="../tutorial/manage-the-database-profiler.html#database-profiling-specify-slowms-threshold"><span class="std std-ref">slow operation</span></a> log messages include a
<code class="docutils literal"><span class="pre">remote</span></code> field specifying client IP address.</p>
</div>
<div class="section" id="remoteopwaitmillis-log-field">
<h3><code class="docutils literal"><span class="pre">remoteOpWaitMillis</span></code> Log Field<a class="headerlink" href="#remoteopwaitmillis-log-field" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, you can use the <a class="reference internal" href="../reference/log-messages.html#log-messages-remoteopwaitmillis"><span class="std std-ref">remoteOpWaitMillis</span></a> log field to obtain the wait time for
results from <a class="reference internal" href="../reference/glossary.html#term-shard"><span class="xref std std-term">shards</span></a>.</p>
</div>
<div class="section" id="resolvedviews-log-field-for-slow-queries-on-views">
<h3><code class="docutils literal"><span class="pre">resolvedViews</span></code> Log Field for Slow Queries on Views<a class="headerlink" href="#resolvedviews-log-field-for-slow-queries-on-views" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, <a class="reference internal" href="../reference/log-messages.html#log-message-slow-ops"><span class="std std-ref">log messages for slow queries</span></a> on <a class="reference internal" href="../reference/log-messages.html#log-message-view-example"><span class="std std-ref">views</span></a>
include a <code class="docutils literal"><span class="pre">resolvedViews</span></code> field that contains the view details.</p>
</div>
<div class="section" id="define-variables-using-the-let-option">
<h3>Define Variables Using the <code class="docutils literal"><span class="pre">let</span></code> Option<a class="headerlink" href="#define-variables-using-the-let-option" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the following commands have a <code class="docutils literal"><span class="pre">let</span></code> option to
define a list of variables. This allows you to improve command
readability by separating the variables from the query text.</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/command/find.html#dbcmd.find" title="find"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">find</span></code></a> command</li>
<li><a class="reference internal" href="../reference/command/findAndModify.html#dbcmd.findAndModify" title="findAndModify"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">findAndModify</span></code></a> command and corresponding
<a class="reference internal" href="../reference/method/db.collection.findAndModify.html#db.collection.findAndModify" title="db.collection.findAndModify()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.findAndModify()</span></code></a> shell helper</li>
<li><a class="reference internal" href="../reference/command/update.html#dbcmd.update" title="update"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">update</span></code></a> command and corresponding
<a class="reference internal" href="../reference/method/db.collection.update.html#db.collection.update" title="db.collection.update()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.update()</span></code></a> shell helper</li>
<li><a class="reference internal" href="../reference/command/delete.html#dbcmd.delete" title="delete"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">delete</span></code></a> command</li>
<li><a class="reference internal" href="../reference/method/db.collection.remove.html#db.collection.remove" title="db.collection.remove()"><code class="xref mongodb mongodb-method docutils literal"><span class="pre">db.collection.remove()</span></code></a> shell helper</li>
</ul>
<p>The <a class="reference internal" href="../reference/command/update.html#dbcmd.update" title="update"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">update</span></code></a> command also has a <code class="docutils literal"><span class="pre">c</span></code> field to define a list
of variables.</p>
</div>
<div class="section" id="support-for-username-to-ldap-dn-mapping-by-default">
<h3>Support for Username to LDAP DN Mapping by Default<a class="headerlink" href="#support-for-username-to-ldap-dn-mapping-by-default" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/configuration-options.html#security.ldap.userToDNMapping" title="security.ldap.userToDNMapping"><code class="xref mongodb mongodb-setting docutils literal"><span class="pre">userToDNMapping</span></code></a>
configuration file option and the <a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod-ldapusertodnmapping"><code class="xref std std-option docutils literal"><span class="pre">--ldapUserToDNMapping</span></code></a> command line option for
<code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongod</span></code> / <code class="xref mongodb mongodb-binary docutils literal"><span class="pre">mongos</span></code> and <strong class="program">mongoldap</strong>
now map the authenticated username as the LDAP DN by default if an
empty mapping document (i.e. an empty string or empty array) is
specified to the option. Previously, providing an empty mapping document
would cause mapping to fail.</p>
</div>
<div class="section" id="additional-dbstats-free-space-statistics">
<h3>Additional <code class="docutils literal"><span class="pre">dbStats</span></code> Free Space Statistics<a class="headerlink" href="#additional-dbstats-free-space-statistics" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0, the <a class="reference internal" href="../reference/command/dbStats.html#dbcmd.dbStats" title="dbStats"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">dbStats</span></code></a> command outputs these
additional statistics:</p>
<ul class="simple">
<li>Free space allocated to collections (<a class="reference internal" href="../reference/command/dbStats.html#dbStats.freeStorageSize" title="dbStats.freeStorageSize"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">freeStorageSize</span></code></a>)</li>
<li>Free space allocated to indexes
(<a class="reference internal" href="../reference/command/dbStats.html#dbStats.indexFreeStorageSize" title="dbStats.indexFreeStorageSize"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">indexFreeStorageSize</span></code></a>)</li>
<li>Total free space allocated to collections and indexes
(<a class="reference internal" href="../reference/command/dbStats.html#dbStats.totalFreeStorageSize" title="dbStats.totalFreeStorageSize"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">totalFreeStorageSize</span></code></a>)</li>
</ul>
</div>
<div class="section" id="serverstatus-output-change">
<h3><code class="docutils literal"><span class="pre">serverStatus</span></code> Output Change<a class="headerlink" href="#serverstatus-output-change" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="../reference/command/serverStatus.html#dbcmd.serverStatus" title="serverStatus"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">serverStatus</span></code></a> includes the following new fields in its
output:</p>
<dl class="docutils">
<dt>Aggregation Metrics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.commands.update.pipeline" title="metrics.commands.update.pipeline"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.commands.update.pipeline</span></code></a> <em>(Also available in 4.4.2+, 4.2.11+)</em></li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.commands.update.arrayFilters" title="metrics.commands.update.arrayFilters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.commands.update.arrayFilters</span></code></a> <em>(Also available in 4.4.2+, 4.2.11+)</em></li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.commands.findAndModify.pipeline" title="metrics.commands.findAndModify.pipeline"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.commands.findAndModify.pipeline</span></code></a> <em>(Also available in 4.4.2+, 4.2.11+)</em></li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.commands.findAndModify.arrayFilters" title="metrics.commands.findAndModify.arrayFilters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.commands.findAndModify.arrayFilters</span></code></a> <em>(Also available in 4.4.2+, 4.2.11+)</em></li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.dotsAndDollarsFields" title="metrics.dotsAndDollarsFields"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.dotsAndDollarsFields</span></code></a></li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.operatorCounters" title="metrics.operatorCounters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.operatorCounters</span></code></a></li>
</ul>
</dd>
<dt>API Version Metrics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.apiVersions" title="metrics.apiVersions"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.apiVersions</span></code></a></li>
</ul>
</dd>
<dt>Replication Metrics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.repl.reconfig.numAutoReconfigsForRemovalOfNewlyAddedFields" title="metrics.repl.reconfig.numAutoReconfigsForRemovalOfNewlyAddedFields"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.repl.reconfig.numAutoReconfigsForRemovalOfNewlyAddedFields</span></code></a></li>
</ul>
</dd>
<dt>Read Concern Counters</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.readConcernCounters" title="readConcernCounters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">readConcernCounters</span></code></a>, which reports on the
<a class="reference internal" href="../reference/read-concern.html#read-concern-levels"><span class="std std-ref">read concern level</span></a> specified by query
operations (<a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.readConcernCounters" title="readConcernCounters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">readConcernCounters</span></code></a> replaces
<a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.opReadConcernCounters" title="opReadConcernCounters"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">opReadConcernCounters</span></code></a>)</li>
</ul>
</dd>
<dt>Number of Threaded Connections</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.connections.threaded" title="connections.threaded"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">connections.threaded</span></code></a>, which reports the number of
incoming connections from clients that are assigned to threads that
service client requests</li>
</ul>
</dd>
<dt>Resharding Statistics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.shardingStatistics.resharding" title="shardingStatistics.resharding"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">shardingStatistics.resharding</span></code></a>, which reports
statistics about resharding operations</li>
</ul>
</dd>
<dt>Service Executor Metrics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.network.serviceExecutors" title="network.serviceExecutors"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">network.serviceExecutors</span></code></a>, which reports on the
service executors that run operations for client requests</li>
</ul>
</dd>
<dt>Cursor Metrics</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.cursor.moreThanOneBatch" title="metrics.cursor.moreThanOneBatch"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.cursor.moreThanOneBatch</span></code></a>, which reports the
total number of cursors that have returned more than one batch
(additional batches are retrieved using the <a class="reference internal" href="../reference/command/getMore.html#dbcmd.getMore" title="getMore"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">getMore</span></code></a>
command)</li>
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.metrics.cursor.totalOpened" title="metrics.cursor.totalOpened"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">metrics.cursor.totalOpened</span></code></a>, which reports the total
number of cursors that have been opened</li>
</ul>
</dd>
<dt>Security Counter</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.security.authentication.saslSupportedMechsReceived" title="security.authentication.saslSupportedMechsReceived"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">security.authentication.saslSupportedMechsReceived</span></code></a>,
which reports the number of times a <a class="reference internal" href="../reference/command/hello.html#dbcmd.hello" title="hello"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">hello</span></code></a> request
includes a valid <a class="reference internal" href="../reference/command/hello.html#hello.saslSupportedMechs" title="hello.saslSupportedMechs"><code class="xref mongodb mongodb-data docutils literal"><span class="pre">hello.saslSupportedMechs</span></code></a> field.</li>
</ul>
</dd>
<dt>Repl</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.repl" title="repl"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">repl</span></code></a> now includes a
<a class="reference internal" href="../reference/command/serverStatus.html#serverstatus.repl.primaryOnlyServices" title="repl.primaryOnlyServices"><code class="xref mongodb mongodb-serverstatus docutils literal"><span class="pre">primaryOnlyServices</span></code></a> document that
contains additional information about services that only run on
replica set primaries.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="plan-cache-debug-info-size-limit">
<h3>Plan Cache Debug Info Size Limit<a class="headerlink" href="#plan-cache-debug-info-size-limit" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (and 4.4.3, 4.2.12, 4.0.23, and 3.6.23), the
<a class="reference internal" href="../core/query-plans.html"><span class="doc">plan cache</span></a> will save full <code class="docutils literal"><span class="pre">plan</span> <span class="pre">cache</span></code>
entries only if the cumulative size of the <code class="docutils literal"><span class="pre">plan</span> <span class="pre">caches</span></code> for all
collections is lower than 0.5 GB. When the cumulative size of the
<code class="docutils literal"><span class="pre">plan</span> <span class="pre">caches</span></code> for all collections exceeds this threshold, additional
<code class="docutils literal"><span class="pre">plan</span> <span class="pre">cache</span></code> entries are stored without certain debug information.</p>
<p>The estimated size in bytes of a <code class="docutils literal"><span class="pre">plan</span> <span class="pre">cache</span></code> entry is available in
the output of <a class="reference internal" href="../reference/operator/aggregation/planCacheStats.html#pipe._S_planCacheStats" title="$planCacheStats"><code class="xref mongodb mongodb-pipeline docutils literal"><span class="pre">$planCacheStats</span></code></a>.</p>
</div>
<div class="section" id="closure-of-inactive-cursors-opened-within-a-session">
<h3>Closure of Inactive Cursors Opened Within a Session<a class="headerlink" href="#closure-of-inactive-cursors-opened-within-a-session" title="Permalink to this headline"></a></h3>
<p>Starting in MongoDB 5.0 (and 4.4.8), cursors created within a
<a class="reference internal" href="../core/read-isolation-consistency-recency.html"><span class="doc">client session</span></a> close
when the corresponding <a class="reference internal" href="../reference/server-sessions.html"><span class="doc">server session</span></a>
ends with the <a class="reference internal" href="../reference/command/killSessions.html#dbcmd.killSessions" title="killSessions"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">killSessions</span></code></a> command, if the session times
out, or if the client has exhausted the cursor.
See <a class="reference internal" href="../tutorial/iterate-a-cursor.html#read-operations-cursors"><span class="std std-ref">Iterate a Cursor in mongosh</span></a>.</p>
</div>
<div class="section" id="new-validatedbmetadata-command">
<h3>New <code class="docutils literal"><span class="pre">validateDBMetadata</span></code> Command<a class="headerlink" href="#new-validatedbmetadata-command" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 adds the <a class="reference internal" href="../reference/command/validateDBMetadata.html#dbcmd.validateDBMetadata" title="validateDBMetadata"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validateDBMetadata</span></code></a> command. The
<a class="reference internal" href="../reference/command/validateDBMetadata.html#dbcmd.validateDBMetadata" title="validateDBMetadata"><code class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">validateDBMetadata</span></code></a> command checks that the stored metadata
of a database or a collection is valid within a particular API version.</p>
</div>
</div>
<div class="section" id="platform-support">
<span id="rel-notes-platforms"></span><h2>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline"></a></h2>
<div class="section" id="minimum-microarchitecture">
<span id="rel-notes-minimum-microarchitecture"></span><h3>Minimum Microarchitecture<a class="headerlink" href="#minimum-microarchitecture" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 introduces the following minimum microarchitecture
requirements:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CPU</th>
<th class="head">Minimum Supported Microarchitecture</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Intel <code class="docutils literal"><span class="pre">x86_64</span></code></td>
<td><p class="first">MongoDB 5.0 requires one of:</p>
<ul class="last simple">
<li>Intel <em>Sandy Bridge</em> or later Core processor, or</li>
<li>Intel <em>Tiger Lake</em> or later Celeron or Pentium processor.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>AMD <code class="docutils literal"><span class="pre">x86_64</span></code></td>
<td>MongoDB 5.0 requires AMD <em>Bulldozer</em> or later.</td>
</tr>
<tr class="row-even"><td>ARM <code class="docutils literal"><span class="pre">arm64</span></code></td>
<td>MongoDB 5.0 requires <em>ARMv8.2-A</em> or later.</td>
</tr>
</tbody>
</table>
<p>MongoDB v5.0 is not supported on <code class="docutils literal"><span class="pre">x86_64</span></code> or <code class="docutils literal"><span class="pre">arm64</span></code> platforms that
do not meet these minimum microarchitecture requirements.</p>
<p>See <a class="reference internal" href="../administration/production-notes.html#prod-notes-supported-platforms-x86-64"><span class="std std-ref">x86_64 Platform Support</span></a> for more information.</p>
</div>
<div class="section" id="removed-platforms">
<h3>Removed Platforms<a class="headerlink" href="#removed-platforms" title="Permalink to this headline"></a></h3>
<p>MongoDB 5.0 removes support for the following platforms:</p>
<ul class="simple">
<li><strong>macOS 10.13</strong></li>
<li><strong>RHEL 7 / CentOS 7 / Oracle 7</strong> on the
<a class="reference internal" href="../administration/production-notes.html#prod-notes-supported-platforms-ppc64le"><span class="std std-ref">PPC64LE</span></a> architecture</li>
<li><strong>SLES 12</strong> on the <a class="reference internal" href="../administration/production-notes.html#prod-notes-supported-platforms-s390x"><span class="std std-ref">s390x</span></a>
architecture</li>
<li><strong>Ubuntu 18.04</strong> on the
<a class="reference internal" href="../administration/production-notes.html#prod-notes-supported-platforms-ppc64le"><span class="std std-ref">PPC64LE</span></a> and
<a class="reference internal" href="../administration/production-notes.html#prod-notes-supported-platforms-s390x"><span class="std std-ref">s390x</span></a> architectures</li>
</ul>
<p>See <span class="xref std std-ref">prod-notes-supported-platforms</span> for the full list of platforms
and architectures supported in MongoDB 5.0.</p>
</div>
</div>
<div class="section" id="changes-affecting-compatibility">
<h2>Changes Affecting Compatibility<a class="headerlink" href="#changes-affecting-compatibility" title="Permalink to this headline"></a></h2>
<p>Some changes can affect compatibility and may require user actions. For
a detailed list of compatibility changes, see
<a class="reference internal" href="5.0-compatibility.html"><span class="doc">Compatibility Changes in MongoDB 5.0</span></a>.</p>
</div>
<div class="section" id="upgrade-procedures">
<span id="upgrade"></span><h2>Upgrade Procedures<a class="headerlink" href="#upgrade-procedures" title="Permalink to this headline"></a></h2>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Feature Compatibility Version</p>
<p>To upgrade to MongoDB 5.0 from a 4.4 deployment, the 4.4 deployment
must have <code class="docutils literal"><span class="pre">featureCompatibilityVersion</span></code> set to <code class="docutils literal"><span class="pre">4.4</span></code>. To check
the version:</p>
<div class="last button-code-block">
<div class="button-row">
<a class="code-button--copy code-button" role="button">
copy</a>
</div>
<div class="copyable-code-block highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">adminCommand</span><span class="p">(</span> <span class="p">{</span> <span class="nx">getParameter</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">featureCompatibilityVersion</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To upgrade to MongoDB 5.0, refer to the upgrade instructions specific to
your MongoDB deployment:</p>
<ul class="simple">
<li><a class="reference internal" href="5.0-upgrade-standalone.html"><span class="doc">Upgrade a Standalone to 5.0</span></a></li>
<li><a class="reference internal" href="5.0-upgrade-replica-set.html"><span class="doc">Upgrade a Replica Set to 5.0</span></a></li>
<li><a class="reference internal" href="5.0-upgrade-sharded-cluster.html"><span class="doc">Upgrade a Sharded Cluster to 5.0</span></a></li>
</ul>
<p>If you need guidance on upgrading to 5.0, <a class="reference external" href="https://www.mongodb.com/products/consulting?tck=docs_server">MongoDB professional services</a> offer
major version upgrade support to help ensure a smooth transition
without interruption to your MongoDB application.</p>
</div>
<div class="section" id="download">
<span id="id13"></span><h2>Download<a class="headerlink" href="#download" title="Permalink to this headline"></a></h2>
<p>To download MongoDB 5.0, go to the <a class="reference external" href="https://www.mongodb.com/try/download?tck=docs_server">MongoDB Download Center</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="https://github.com/mongodb/mongo/blob/v4.4/distsrc/THIRD-PARTY-NOTICES">All Third Party License Notices</a>.</li>
</ul>
</div>
</div>
<div class="section" id="known-issue-backup-resharding">
<span id="known-issue-granularity"></span><span id="known-issues"></span><span id="id14"></span><h2>Known Issues<a class="headerlink" href="#known-issue-backup-resharding" title="Permalink to this headline"></a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="14%" />
<col width="67%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In Version</th>
<th class="head">Issues</th>
<th class="head">Status</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>5.0.0</td>
<td><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58171">SERVER-58171</a>: A Time Series collections <code class="docutils literal"><span class="pre">granularity</span></code>
parameter cannot be modified after the collection is created.</td>
<td>Fixed in 5.0.1</td>
</tr>
<tr class="row-odd"><td>5.0.0</td>
<td><a class="reference external" href="https://jira.mongodb.org/browse/SERVER-58392">SERVER-58392</a>: An ongoing resharding operation may
prevent a backup or restore operation from succeeding.</td>
<td>Unresolved</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="report-an-issue">
<h2>Report an Issue<a class="headerlink" href="#report-an-issue" title="Permalink to this headline"></a></h2>
<p>To report an issue, see
<a class="reference external" href="https://github.com/mongodb/mongo/wiki/Submit-Bug-Reports">https://github.com/mongodb/mongo/wiki/Submit-Bug-Reports</a> for
instructions on how to file a JIRA ticket for the MongoDB server or one
of the related projects.</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>

                
    <div id="btnv">
      <span class="btn-arrow-left">&larr; &nbsp;</span>
      <a class="btn-prev-text" href="5.1-changelog.html" title="Previous Section: 5.1 Changelog"><span>5.1 Changelog</span></a>
      <a class="btn-next-text" href="5.0-compatibility.html" title="Next Section: Compatibility Changes in MongoDB 5.0"><span>Compatibility Changes in MongoDB 5.0</span></a>
      <span class="btn-arrow-right">&nbsp;&rarr;</span>
    </div>
                  <div class="footer">
                    <div class="copyright">
                      <p>&copy; MongoDB, Inc 2008-present. MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc.</p>
                    </div>
                  </div>
              </div></div>
            </div>
        </div>
    </div>
    <div class="right-column">
      <div class="wrapper"> <div id='mongodb-docs-1'>
   <script type='text/javascript'>
      googletag.cmd.push(function() { googletag.display('mongodb-docs-1'); });
   </script>
</div>
            <div class="social">
               <a class="slack-icon" href="https://slackpass.io/mongo-db?jmp=docs" title="https://slackpass.io/mongo-db?jmp=docs"><i class="fab fa-slack" aria-hidden="true"></i></a>
               <a class="twitter-icon" href="https://twitter.com/MongoDB" title="https://twitter.com/MongoDB"><i class="fab fa-twitter-square"></i></a>
               <a class="youtube-icon" href="https://www.youtube.com/user/MongoDB" title="https://www.youtube.com/user/MongoDB"><i class="fab fa-youtube-square"></i></a>
               <a class="facebook-icon" href="https://www.facebook.com/mongodb" title="https://www.facebook.com/mongodb"><i class="fab fa-facebook-square"></i></a>
               <a class="stack-overflow-icon" href="https://stackoverflow.com/tags/mongodb/info" title="https://stackoverflow.com/tags/mongodb/info"><i class="fab fa-stack-overflow" aria-hidden="true"></i></a>
            </div>
        

      </div>
    </div>
    
      <div id="rating-panel"></div>
    
    <div class="clearfix"></div>
  </div>
<div id="navbar" data-navprops='{"links": [{"url": "https://www.mongodb.com/docs/manual/","text": "Server","active": true},{"url": "https://www.mongodb.com/docs/drivers/","text": "Drivers"},{"url": "https://www.mongodb.com/docs/cloud/","text": "Cloud"},{"url": "https://www.mongodb.com/docs/tools/","text": "Tools"},{"url": "https://www.mongodb.com/docs/guides/","text": "Guides"}], "baseUrl": "https://www.mongodb.com/docs"}'></div>

  <script src="../_static/navbar.min.js"></script>

  

  <script type="text/javascript">
  // Bootstrap array of links that should trigger a full page reload
  window.docsExcludedNav = ['/administration', '/administration/production-checklist', '/administration/indexes-management', '/aggregation', '/applications/geospatial-indexes', '/applications/indexes', '/contributors/getting-started', '/core/2d', '/core/2dsphere', '/core/auditing', '/core/authentication', '/core/authorization', '/core/backups', '/core/read-isolation-consistency-recency', '/core/databases-and-collections', '/core/geohaystack', '/core/index-single', '/core/index-compound', '/core/index-creation', '/core/index-hashed', '/core/index-multikey', '/core/index-partial', '/core/index-sparse', '/core/index-text', '/core/index-ttl', '/core/index-unique', '/core/index-wildcard', '/core/journaling', '/core/kerberos', '/core/map-reduce', '/core/operational-segregation', '/core/query-optimization', '/core/read-preference', '/core/replica-set-architectures', '/core/replica-set-high-availability', '/core/replica-set-members', '/core/replica-set-secondary', '/core/transactions', '/geospatial-queries', '/replication', '/core/sharded-cluster-components', '/core/wiredtiger', '/core/write-operations-atomicity', '/crud', '/indexes', '/installation', '/introduction', '/mongo', '/products/bi-connector', '/reference/command', '/reference/collation', '/text-search', '/tutorial/manage-the-database-profiler', '/core/index-text', '/reference/bson-types', '/reference/configuration-options', '/reference/indexes', '/reference/method', '/reference/operator/aggregation', '/reference/operator/query', '/reference/operator/query-modifier', '/reference/operator/update', '/reference/replication', '/reference/read-concern', '/reference/security', '/reference/sharding', '/reference/write-concern', '/release-notes/2.4', '/release-notes/2.6', '/release-notes/2.8', '/release-notes/3.0', '/release-notes/3.2', '/release-notes/3.4', '/release-notes/3.6', '/release-notes/4.0', '/release-notes/4.2', '/release-notes/4.4', '/release-notes/5.0', '/security', '/sharding', '/changeStreams', '/core/zone-sharding', '/core/hashed-sharding', '/core/ranged-sharding', '/storage', '/tutorial/change-sharded-cluster-wiredtiger', '/tutorial/insert-documents', '/tutorial/query-documents', '/tutorial/remove-documents', '/tutorial/update-documents', '/tutorial/enable-authentication', '/tutorial/install-mongodb-on-ubuntu', '/tutorial/install-mongodb-on-windows', '/tutorial/install-mongodb-on-red-hat', '/tutorial/install-mongodb-on-debian', '/tutorial/install-mongodb-on-suse', '/tutorial/install-mongodb-on-amazon', '/tutorial/install-mongodb-enterprise-on-ubuntu', '/tutorial/install-mongodb-enterprise-on-windows', '/tutorial/install-mongodb-enterprise-on-red-hat', '/tutorial/install-mongodb-enterprise-on-debian', '/tutorial/install-mongodb-enterprise-on-suse', '/tutorial/install-mongodb-enterprise-on-amazon', '/tutorial/install-mongodb-on-os-x'];
  </script></body>
</html>